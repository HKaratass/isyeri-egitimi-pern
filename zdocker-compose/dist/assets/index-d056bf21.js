import{s as I,j as e,r as g,u as J,b as Re,g as M,t as Mt,c as yt,h as oa,e as da}from"./index-d7128c36.js";import{A as _t,B as kt,R as ne,E as Ot,J as se,O as vt,P as T,Q as D,T as Ze,U as le,V as q,W as V,X as Y,Y as ee,Z as Ce,$ as de,a0 as mt,a1 as ht,a2 as gt,a3 as xt,L as ca,_ as ua,a4 as ma,a5 as ha,a6 as ga,a7 as We,a8 as W,K as Pe,a as Ut,b as Yt,c as qt,a9 as lt,aa as xa,g as Bt,H as Gt,i as Zt,j as Wt,N as he,ab as Lt,n as fa,M as pa,z as je}from"./_FileIcon-2376e579.js";import{p as ie,q as Jt,n as oe,m as ke,r as bt,t as ft,u as Et,v as ja,w as Vt,x as ya,y as _a,s as H,T as Ae,z as ka,A as va,B as ba,C as Ea,D as Sa,E as Ca,F as $a,G as Da,H as La,j as At,i as zt,I as Pt,J as wt,K as Tt,L as It,M as Rt}from"./event-ab79c8ca.js";import{F}from"./index.es-ad781d3f.js";import{u as N}from"./useMutation-f7b76f5b.js";import{a as we,s as rt}from"./announcement-4958cf4e.js";import{F as Qt,T as re,a as Aa}from"./auth-addb9dc0.js";const za=I.div`
    width: 200px;
    height: 200px;
    background-color: #f2f2f2;
    margin: 5px;
    padding: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all .3s ease;
    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    color: ${i=>i.$COLOR}55;
    user-select: none;

    &:hover {
        font-size: 1.1em;
        color: ${i=>i.$COLOR}ab;

    }

    &:active {
        font-size: 0.9em;
    }

    @media (max-width: 950px) {
        width: calc(100% - 30px);
        height: calc(100% - 30px);
    }

`,Ke=I.div`
    display: flex;
    width: 100%;

    @media (max-width: 950px) {
        display: grid;
        grid-template-columns: 50% 50%;
    }

`,B=({icon:i,text:m,color:r,onClick:s})=>e.jsxs(za,{onClick:s,$COLOR:r,children:[e.jsx(F,{style:{fontSize:"5em"},icon:i}),e.jsx("label",{style:{fontSize:"1.2em",fontWeight:"700",textAlign:"center",cursor:"pointer"},children:m})]}),$e=({crop:i,slide:m,schedule:r,title:s,image:n,handleChange:u,removeFunc:o})=>e.jsx(e.Fragment,{children:n?e.jsxs(_t,{$SLIDE:m,$CROP:i,children:[e.jsx(kt,{src:n.url,alt:"Loaded Photo"}),e.jsx(ne,{onClick:o,children:e.jsx(F,{icon:ie})})]}):e.jsxs(Ot,{$SLIDE:m,title:s,$CROP:i,children:[e.jsx(F,{icon:Jt}),e.jsx("input",{name:r?"schedule":"image",type:"file",accept:"image/png, image/jpg, image/jpeg, image/webp",onChange:u,value:"",style:{display:"none"}})]})}),Xt=I(se)`
    font-weight: 600;
`,Ht=I(vt)`
    height: calc(100% - 10px - 1em);
`,Pa=({backFunc:i,allEvents_IdAndTitle:m,setHead:r,setBackFunc:s})=>{const[n,u]=g.useState(),o=()=>{r("DUYURULAR"),i(),s(null)},[v,t]=g.useState({});g.useEffect(()=>{r("DUYURULAR - Ekle"),s(()=>()=>{o()})},[]);const f=N({mutationFn:l=>we("post","",l,{withCredentials:!0}),onError:l=>{u(`${l.data.code} - ${l.data.message}`)},onSuccess:()=>{setTimeout(()=>{o()},1e3)}});function a(l){if(f.isPending||f.isSuccess)return 0;if(l.target.name==="image"){const c=URL.createObjectURL(l.target.files[0]);t({...v,image:{file:l.target.files[0],url:c}})}else if(l.target.name==="event_id")if(l.target.value!=="0")t({...v,[l.target.name]:parseInt(l.target.value)});else{const{event_id:c,...p}=v;t(p)}else t({...v,[l.target.name]:l.target.value});u(null)}const y=()=>{var _,C;if(((_=v.head)==null?void 0:_.trim().length)<1||!v.head)return u("Başlık en az 1 karakter olmalı.");if(((C=v.description)==null?void 0:C.trim().replace(/ +/g," ").length)<10||!v.description)return u("Metin en az 10 karakter olmalı.");const{image:l,...c}=v;if(!l)return u("Duyurularda fotoğraf zorunludur. Lütfen fotoğraf ekleyiniz.");const p=new FormData;p.append("data",JSON.stringify({...c})),p.append("image",v.image.file,oe(v.image.file.name)),f.mutate(p)};function x(){!f.isPending&&!f.isSuccess&&t({...v,image:null})}return e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[e.jsx(Xt,{$ADD:!0,maxLength:50,onChange:a,name:"head",placeholder:"Duyuru Başlık"}),e.jsx(D,{title:"Duyurunun başlık alanıdır. Minumum 1, maksimum 50 karakter girilebilir."})]}),e.jsxs(T,{style:{height:"calc(100% - 380px - 20px - 1.6em)"},children:[e.jsx(Ht,{$ADD:!0,onChange:a,name:"description",maxLength:6e3,placeholder:"Duyuru Metni (Minumum 10, maksimum 6000 karakter girilebilir.) "}),e.jsx(D,{title:"Duyurunun açıklama alanıdır. Minumum 10, maksimum 6000 karakter girilebilir."})]}),e.jsxs(T,{children:[e.jsxs(Ze,{onChange:a,name:"event_id",children:[e.jsx("option",{hidden:!0,children:"Etkinlik ile Bağdaştır"}),e.jsx(le,{value:0,children:"Etkinlik Bağdaştırma Yok"}),m==null?void 0:m.map((l,c)=>e.jsx(le,{value:l.id,children:l.title},c))]}),e.jsx(D,{title:"Duyuruya tıklandığında açılacak etkinliği seçiniz. Eğer yoksa boş bırakınız."})]}),e.jsx(q,{children:"Duyuru Görseli Ekle (Zorunlu)"}),e.jsx($e,{crop:!!(n||f.isSuccess),title:"Görsel Eklemek Zorunlu",image:v.image,handleChange:a,removeFunc:x}),f.isSuccess&&!n&&e.jsx(V,{children:f.data.resData.message}),n&&e.jsx(Y,{children:n}),e.jsx(ee,{$PENDING:f.isPending,disabled:f.isPending||f.isSuccess,onClick:y,children:"ONAYLA"})]})},wa=({setHead:i,backFunc:m,setBackFunc:r})=>{var A,L;const[s,n]=g.useState(null),u=()=>{i("DUYURULAR"),m(),r(null)},[o,v]=g.useState(null),[t,f]=g.useState(null),{isLoading:a,isError:y,data:x,error:l}=J({queryKey:["a_info"],queryFn:()=>we("get","info")}),{isLoading:c,isError:p,data:_,error:C}=J({queryKey:["e_info"],queryFn:()=>ke("get","info")});g.useEffect(()=>{y&&setTimeout(()=>{u()},3e3)},[y]),g.useEffect(()=>{i("DUYURULAR - Güncelle"),r(()=>()=>{u()})},[]);function E(S){if(h.isSuccess||h.isPending)return 0;if(S.target.name==="chooser")v(S.target.value);else if(S.target.name==="image"){const G=URL.createObjectURL(S.target.files[0]);f({...t,image:{file:S.target.files[0],url:G}})}else if(S.target.name==="event_id")if(S.target.value!=="0")f({...t,[S.target.name]:parseInt(S.target.value)});else{const{event_id:G,...X}=t;f(X)}else f({...t,[S.target.name]:S.target.value});n(null)}function $(){!h.isPending&&!h.isSuccess&&f({...t,image:-1})}const P=N({mutationFn:S=>we("get",S),onError:S=>{n(`${S.data.code} - ${S.data.message}`)},onSuccess:S=>{S.resData.image={url:`http://api.proje.isyeriegitimi.com/Images/Announcement/${S.resData.id}.jpg`},f(S.resData)}});function j(){o?P.mutate(o):n("Lütfen önce güncellemek istediğiniz duyuru başlığını seçiniz.")}const h=N({mutationFn:S=>we("put","",S,{withCredentials:!0}),onError:S=>{n(`${S.data.code} - ${S.data.message}`)},onSuccess:()=>{setTimeout(()=>{u()},1e3)}}),b=()=>{var De,ge;if(((De=t.head)==null?void 0:De.trim().length)<1)return n("Başlık en az 1 karakter olmalı.");if(((ge=t.description)==null?void 0:ge.trim().replace(/ +/g," ").length)<10)return n("Metin en az 10 karakter olmalı.");if(t.image===-1)return n("Duyurularda fotoğraf zorunludur. Lütfen fotoğraf ekleyiniz.");const{image:S,...G}=t,X=new FormData;X.append("data",JSON.stringify(G)),S.file&&X.append("image",t.image.file,oe(t.image.file.name)),h.mutate(X)};return e.jsx(e.Fragment,{children:P.isSuccess?e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[e.jsx(Xt,{$UPDATE:!0,value:t.head,maxLength:50,onChange:E,name:"head",placeholder:"Duyuru Başlık"}),e.jsx(D,{title:"Duyurunun başlık alanıdır. Minumum 1, maksimum 50 karakter girilebilir."})]}),e.jsxs(T,{style:{height:"calc(100% - 380px - 20px - 1.6em)"},children:[e.jsx(Ht,{value:t.description,$UPDATE:!0,onChange:E,name:"description",maxLength:6e3,placeholder:"Duyuru Metni (Minumum 10, maksimum 6000 karakter girilebilir.) "}),e.jsx(D,{title:"Duyurunun açıklama alanıdır. Minumum 10, maksimum 6000 karakter girilebilir."})]}),e.jsxs(T,{children:[e.jsxs(Ce,{disabled:p||c,value:(t==null?void 0:t.event_id)||0,onChange:E,name:"event_id",children:[e.jsx(de,{value:0,children:p?"Etkinlik başlıkları bulunamadı...":c?"Etkinlik Başlıkları Listeleniyor...":"Etkinlik Bağdaştırma Yok"}),!c&&!p&&_.resData.map((S,G)=>e.jsx(de,{value:S.id,children:S.title},G))]}),e.jsx(D,{title:"Duyuruya tıklandığında açılacak etkinliği seçiniz. Eğer yoksa boş bırakınız."})]}),e.jsx(q,{children:"Duyuru Görseli Ekle (Zorunlu)"}),e.jsx($e,{crop:!!(s||h.isSuccess),title:"Görsel Eklemek Zorunlu",image:t.image!==-1&&t.image,handleChange:E,removeFunc:$}),s&&e.jsx(Y,{children:s}),h.isSuccess&&!s&&e.jsx(V,{children:h.data.resData.message}),e.jsx(ee,{$PENDING:h.isPending,disabled:h.isPending||h.isSuccess,onClick:b,children:"ONAYLA"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{disabled:a||P.isPending||y,onChange:E,name:"chooser",children:[e.jsx("option",{hidden:!0,children:a?"Duyuru Başlıkları Listeleniyor...":"Güncellenecek Duyuru Başlığını Seçin"}),!a&&!y&&x.resData.map((S,G)=>e.jsx(de,{value:S.id,children:P.isPending?"Bekleyiniz...":S.head},G))]}),(y||s)&&e.jsx(Y,{children:y?`${(A=l.data)==null?void 0:A.code} - ${(L=l.data)==null?void 0:L.message}`:s}),e.jsx(mt,{$PENDING:a||P.isPending,disabled:a||P.isPending||y,onClick:j,children:"SEÇ"})]})})},Ta=I.div`
    position: fixed;
    background-color: #1115;
    width: 100vw;
    height: 100vh;
    top: 0;
    left: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 11;
`,Ia=I.div`
    background-color: ${({theme:i})=>i.detail_nav_button_bc_selected};
    width: 340px;
    height: 120px;
    border-radius: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
`,Kt=I.button`
    cursor: pointer;
    font-size: 1.1em;
    border: none;
    border-radius: 4px;
    background-color: #f2f2f2;
    margin: 10px;
    width: 90px;
    height: 30px;
    transition: transform .4s, background-color .2s;
    user-select: none;

    &:hover {
        background-color: ${i=>i.$DEL?"#aa1616":"#191919"};
        color: white;
        transform: scale(1.01);
    }

    &:active {
        background-color: ${i=>i.$DEL?"#991616":"#2f2f2f"};
        transform: scale(1);
    }
`,Fe=({YES:i,NO:m})=>e.jsx(Ta,{children:e.jsxs(Ia,{children:[e.jsx("div",{style:{color:"#f2f2f2",fontSize:"1.2em",userSelect:"none"},children:"Silmek istediğinize emin misiniz?"}),e.jsxs("div",{children:[e.jsx(Kt,{onClick:i,$DEL:!0,children:"Evet"}),e.jsx(Kt,{onClick:m,children:"Hayır"})]})]})}),Ra=({setHead:i,backFunc:m,setBackFunc:r})=>{var $,P;const[s,n]=g.useState(null),[u,o]=g.useState(!1),v=()=>{a?o(!0):n("Lütfen önce silmek istediğiniz duyuru başlığını seçiniz.")},t=()=>o(!1),f=()=>{i("DUYURULAR"),m(),r(null)},[a,y]=g.useState(null),{isLoading:x,isError:l,data:c,error:p}=J({queryKey:["a_info"],queryFn:()=>we("get","info")});g.useEffect(()=>{l&&setTimeout(()=>{f()},3e3)},[l]),g.useEffect(()=>{i("DUYURULAR - Sil"),r(()=>()=>{f()})},[]);const _=N({mutationFn:j=>(o(!1),we("delete",j,null,{withCredentials:!0})),onError:j=>{n(`${j.data.code} - ${j.data.message}`)},onSuccess:()=>{setTimeout(()=>{f()},1e3)}});function C(){_.mutate(a)}const E=j=>{y(j.target.value),n(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(ht,{disabled:x||_.isPending||l,onChange:E,children:[e.jsx("option",{hidden:!0,children:x?"Duyuru Başlıkları Listeleniyor...":"Silinecek Duyurunun Başlığını Seçin"}),!x&&!l&&c.resData.map((j,h)=>e.jsx(gt,{value:j.id,children:_.isPending?"Bekleyiniz...":j.head},h))]}),u&&e.jsx(Fe,{YES:C,NO:t}),_.isSuccess&&!s&&e.jsx(V,{children:_.data.resData.message}),(l||s)&&e.jsx(Y,{children:l?`${($=p.data)==null?void 0:$.code} - ${(P=p.data)==null?void 0:P.message}`:s}),e.jsx(xt,{$PENDING:x||_.isPending,disabled:x||_.isPending||l||_.isSuccess,onClick:v,children:"SİL"})]})},Oe={nav:!1,add:!1,update:!1,delete:!1},Ka=({allEvents_IdAndTitle:i,setHead:m,setBackFunc:r})=>{const[s,n]=g.useState({...Oe,nav:!0});g.useEffect(()=>{m("DUYURULAR")},[]);const u=()=>{n({...Oe,nav:!0})};return e.jsxs(e.Fragment,{children:[s.nav&&e.jsxs(Ke,{children:[e.jsx(B,{onClick:()=>n({...Oe,add:!0}),icon:bt,color:"#22ff00",text:"EKLE"}),e.jsx(B,{onClick:()=>n({...Oe,update:!0}),icon:ft,color:"#2c37cb",text:"GÜNCELLE"}),e.jsx(B,{onClick:()=>n({...Oe,delete:!0}),icon:Et,color:"#CB2C31",text:"SİL"})]}),s.add&&e.jsx(Pa,{backFunc:u,setBackFunc:r,allEvents_IdAndTitle:i,setHead:m}),s.update&&e.jsx(wa,{backFunc:u,setBackFunc:r,setHead:m}),s.delete&&e.jsx(Ra,{backFunc:u,setBackFunc:r,setHead:m})]})};Re.defaults.debug=!1;const ve=async(i,m,r,s)=>{try{const n=await Re({method:i,url:`http://api.proje.isyeriegitimi.com/committee/${m}`,data:r,headers:{"X-CSRF-TOKEN":localStorage.getItem("XEV")},...s});return{resData:n.data,status:n.status}}catch(n){if(n.response.data.authOut)return alert(`${n.response.data.code} - OTURUM KAPATILIYOR`),window.location.href="/admin/dashboard";throw{data:n.response.data,status:n.response.status}}},Fa=({setHead:i,backFunc:m,setBackFunc:r})=>{const[s,n]=g.useState(),u=()=>{i("KOMİTE ÜYELERİ"),m(),r(null)},[o,v]=g.useState({});g.useEffect(()=>{i("KOMİTE ÜYELERİ - Ekle"),r(()=>()=>{u()})},[]);const t=N({mutationFn:x=>ve("post","",x,{withCredentials:!0}),onError:x=>{n(`${x.data.code} - ${x.data.message}`)},onSuccess:()=>{setTimeout(()=>{u()},1e3)}});function f(x){if(x.target.name==="image"){const l=URL.createObjectURL(x.target.files[0]);v({...o,image:{file:x.target.files[0],url:l}})}else v({...o,[x.target.name]:x.target.value});n(null)}function a(){!t.isPending&&!t.isSuccess&&v({...o,image:null})}const y=()=>{var p,_,C;if(((p=o.name)==null?void 0:p.trim().replace(/ +/g," ").length)<5||!o.name)return n("Ad-Soyad en az 5 karakter olmalı.");if(((_=o.title)==null?void 0:_.length)<5||!o.title)return n("Ünvan en az 5 karakter olmalı.");const{image:x,...l}=o,c=new FormData;c.append("data",JSON.stringify(l)),(C=o.image)!=null&&C.file&&c.append("image",o.image.file,oe(o.image.file.name)),t.mutate(c)};return e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[e.jsx(se,{$ADD:!0,onChange:f,name:"name",placeholder:"Komite üyesinin Doktorası - Adı - Soyadı",maxLength:50}),e.jsx(D,{title:"Örnek: 'Prof. Dr. Civan ARTUKLU'. Minumum 5, maksimum 50 karakter girilebilir."})]}),e.jsxs(T,{children:[e.jsx(se,{$ADD:!0,onChange:f,name:"title",placeholder:"Komite üyesinin Ünvanı",maxLength:60}),e.jsx(D,{title:"Örnek: 'Eğitim Kurulu Başkanı'. Minumum 5, maksimum 60 karakter girilebilir."})]}),e.jsx(q,{children:"Komite Üyesinin Fotoğrafı"}),e.jsx($e,{image:o.image,handleChange:f,removeFunc:a}),s&&e.jsx(Y,{children:s}),t.isSuccess&&!s&&e.jsx(V,{children:t.data.resData.message}),e.jsx(ee,{$PENDING:t.isPending,disabled:t.isPending||t.isSuccess,onClick:y,children:"ONAYLA"})]})},Na=({setHead:i,backFunc:m,setBackFunc:r})=>{var P,j;const[s,n]=g.useState(null),u=()=>{i("KOMİTE ÜYELERİ"),m(),r(null)},[o,v]=g.useState(null),[t,f]=g.useState(null),{isLoading:a,isError:y,data:x,error:l}=J({queryKey:["c_info"],queryFn:()=>ve("get","info")});g.useEffect(()=>{y&&setTimeout(()=>{u()},3e3)},[y]),g.useEffect(()=>{i("KOMİTE ÜYELERİ - Güncelle"),r(()=>()=>{u()})},[]);const c=h=>{if(h.target.name==="chooser")v(h.target.value);else if(h.target.name==="image"){const b=URL.createObjectURL(h.target.files[0]);f({...t,image:{file:h.target.files[0],url:b}})}else f({...t,[h.target.name]:h.target.value});n(null)};function p(){!E.isPending&&!E.isSuccess&&f({...t,image:-1})}const _=N({mutationFn:h=>ve("get",h),onError:h=>{n(`${h.data.code} - ${h.data.message}`)},onSuccess:h=>{h.resData.image&&(h.resData.image={url:`http://api.proje.isyeriegitimi.com/Images/Committee/${h.resData.id}.jpg`}),f(h.resData)}});function C(){o?_.mutate(o):n("Lütfen önce güncellemek istediğiniz komite üyesini seçiniz.")}const E=N({mutationFn:h=>ve("put","",h,{withCredentials:!0}),onError:h=>{n(`${h.data.code} - ${h.data.message}`)},onSuccess:()=>{setTimeout(()=>{u()},1e3)}});function $(){var L,S;if(((L=t.name)==null?void 0:L.trim().replace(/ +/g," ").length)<5)return n("Ad-Soyad en az 5 karakter olmalı.");if(((S=t.title)==null?void 0:S.length)<5)return n("Ünvan en az 5 karakter olmalı.");const{image:h,...b}=t,A=new FormData;h||(b.image=!1),h===-1&&(b.image=-1),A.append("data",JSON.stringify({...b})),h.file&&t.image&&A.append("image",t.image.file,oe(t.image.file.name)),E.mutate(A)}return e.jsx(e.Fragment,{children:_.isSuccess?e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[e.jsx(se,{value:t.name,$UPDATE:!0,onChange:c,name:"name",placeholder:"Komite üyesinin Doktorası - Adı - Soyadı",maxLength:50}),e.jsx(D,{title:"Örnek: 'Prof. Dr. Civan ARTUKLU'. Minumum 5, maksimum 50 karakter girilebilir."})]}),e.jsxs(T,{children:[e.jsx(se,{value:t.title,$UPDATE:!0,onChange:c,name:"title",placeholder:"Komite üyesinin Ünvanı",maxLength:60}),e.jsx(D,{title:"Örnek: 'Eğitim Kurulu Başkanı'. Minumum 5, maksimum 60 karakter girilebilir."})]}),e.jsx(q,{children:"Komite Üyesinin Fotoğrafı"}),e.jsx($e,{image:t.image!==-1&&t.image,handleChange:c,removeFunc:p}),s&&e.jsx(Y,{children:s}),E.isSuccess&&!s&&e.jsx(V,{children:E.data.resData.message}),e.jsx(ee,{$PENDING:E.isPending,disabled:E.isPending||E.isSuccess,onClick:$,children:"ONAYLA"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{disabled:a||_.isPending||y,name:"chooser",onChange:c,children:[e.jsx("option",{hidden:!0,children:a?"Komite Üyeleri Listeleniyor...":"Güncellenecek Komite Üyesini Seçin"}),!a&&!y&&x.resData.map((h,b)=>e.jsx(de,{value:h.id,children:_.isPending?"Bekleyiniz...":h.name},b))]}),(y||s)&&e.jsx(Y,{children:y?`${(P=l.data)==null?void 0:P.code} - ${(j=l.data)==null?void 0:j.message}`:s}),e.jsx(mt,{$PENDING:a||_.isPending,disabled:a||_.isPending||y,onClick:C,children:"SEÇ"})]})})},Ma=({setHead:i,backFunc:m,setBackFunc:r})=>{var $,P;const[s,n]=g.useState(null),[u,o]=g.useState(!1),v=()=>{a?o(!0):n("Lütfen önce silmek istediğiniz komite üyesini seçiniz.")},t=()=>o(!1),f=()=>{i("KOMİTE ÜYELERİ"),m(),r(null)},[a,y]=g.useState(null),{isLoading:x,isError:l,data:c,error:p}=J({queryKey:["c_info"],queryFn:()=>ve("get","info")});g.useEffect(()=>{l&&setTimeout(()=>{f()},3e3)},[l]),g.useEffect(()=>{i("KOMİTE ÜYELERİ - Sil"),r(()=>()=>{f()})},[]);const _=N({mutationFn:j=>(o(!1),ve("delete",j,null,{withCredentials:!0})),onError:j=>{n(`${j.data.code} - ${j.data.message}`)},onSuccess:()=>{setTimeout(()=>{f()},1e3)}});function C(){_.mutate(a)}const E=j=>{y(j.target.value),n(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(ht,{disabled:x||_.isPending||l,onChange:E,children:[e.jsx("option",{hidden:!0,children:x?"Yazım Kuralları Listeleniyor...":"Silinecek Komite Üyesini Seçin"}),!x&&!l&&c.resData.map((j,h)=>e.jsx(gt,{value:j.id,children:_.isPending?"Bekleyiniz...":j.name},h))]}),u&&e.jsx(Fe,{YES:C,NO:t}),_.isSuccess&&!s&&e.jsx(V,{children:_.data.resData.message}),(l||s)&&e.jsx(Y,{children:l?`${($=p.data)==null?void 0:$.code} - ${(P=p.data)==null?void 0:P.message}`:s}),e.jsx(xt,{$PENDING:x||_.isPending,disabled:x||_.isPending||l||_.isSuccess,onClick:v,children:"SİL"})]})},Ue={nav:!1,add:!1,update:!1,delete:!1},Oa=({setHead:i,setBackFunc:m})=>{const[r,s]=g.useState({...Ue,nav:!0});g.useEffect(()=>{i("KOMİTE ÜYELERİ")},[]);const n=()=>{s({...Ue,nav:!0})};return e.jsxs(e.Fragment,{children:[r.nav&&e.jsxs(Ke,{children:[e.jsx(B,{onClick:()=>s({...Ue,add:!0}),icon:ja,color:"#22ff00",text:"EKLE"}),e.jsx(B,{onClick:()=>s({...Ue,update:!0}),icon:Vt,color:"#2c37cb",text:"GÜNCELLE"}),e.jsx(B,{onClick:()=>s({...Ue,delete:!0}),icon:ya,color:"#CB2C31",text:"SİL"})]}),r.add&&e.jsx(Fa,{backFunc:n,setBackFunc:m,setHead:i}),r.update&&e.jsx(Na,{backFunc:n,setBackFunc:m,setHead:i}),r.delete&&e.jsx(Ma,{backFunc:n,setBackFunc:m,setHead:i})]})};I.textarea`
    width: 100%;
    padding: .3em;
    outline: none;
    margin: 2px;
    height: 8em;
    resize: none;
`;I.h4`
    margin: 3px 0 5px 0;
    display: flex;
    align-items: center;
    user-select: none;

`;I.h5`
    margin: 3px 0 5px 0;
    display: flex;
    align-items: center;

`;const ot=I.div`
    display: grid;
    grid-template-columns: auto auto;
    width: 100%;
    /* min-height: 250px; */
    max-height: 250px;
    overflow-y: auto;
    margin-bottom: 10px;
`;I.div`
    background-color: ${({theme:i})=>i.detai_kurul_card_wrapper};
    width: calc(100% - 20px);
    height: 60px;
    padding: 5px;
    margin: 5px;
    border-radius: 10px;
    display: flex;
    align-items: center;
`;const ea=I.div`
    display: grid;
    grid-template-columns: auto auto auto auto;
    max-height: 560px;
    overflow-y: auto;



`;I.label`
    width: 200px;
    height: 200px;
    background-color: white;
    padding: 10px;
    color: #B6E7D855;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: ${i=>i.$SLIDE?"calc(5em + 10vw)":"5em"};
    border-radius: 8px;
    cursor: pointer;
    transition: all .3s ease;
    margin: 5px;
    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.3);

    &:hover {
        font-size: 5.1em;
        color: #B6E7D8;

    }

    &:active {
        font-size: 4.9em;
    }


`;const ta=({images:i,handleChange:m,removeFunc:r})=>e.jsxs(ea,{children:[i==null?void 0:i.map((s,n)=>e.jsxs(_t,{children:[e.jsx(kt,{src:s.url,alt:"Loaded Photo"}),e.jsx(ne,{onClick:()=>{r(s.url)},children:e.jsx(F,{icon:ie})}),e.jsx("input",{type:"text",value:s.title,name:"image_name",maxLength:20,onChange:u=>m(u,n),style:{position:"absolute",bottom:"20px",left:"10px",width:"calc(200px - 18.4px)",padding:"5px 8px",margin:"none",outline:"none",border:"1.35px solid silver",textAlign:"center",backgroundColor:"#fff8"}})]},n)),i.length<12&&e.jsxs(Ot,{children:[e.jsx(F,{icon:Jt}),e.jsx("input",{name:"images",type:"file",multiple:!0,accept:"image/png, image/jpg, image/jpeg, image/webp",onChange:m,value:"",style:{display:"none"}})]})]}),St=I.label`
    user-select: none;
    color: black;
    font-size: 1rem;
    margin: 5px;
`,Ct=I.input.attrs({type:"checkbox"})`
    margin-right: 5px;
`,aa=({files:i,handleChange:m,removeFunc:r})=>e.jsxs(ea,{children:[i==null?void 0:i.map((s,n)=>e.jsxs(ca,{onClick:()=>{window.open(s.url,"_blank")},style:{position:"relative"},children:[e.jsx(ua,{fileName:s.file.name}),e.jsx("input",{onClick:u=>{u.stopPropagation()},type:"text",value:s.title,name:"file_name",maxLength:20,onChange:u=>m(u,n),style:{textAlign:"center",outline:"none",margin:"6px 0"}}),e.jsx(ne,{style:{fontSize:".8rem"},onClick:u=>{u.stopPropagation(),r(s.url)},children:e.jsx(F,{icon:ie})})]},n)),i.length<8&&e.jsxs(ma,{children:[e.jsx(F,{icon:_a}),e.jsx("input",{name:"files",type:"file",multiple:!0,accept:"*",onChange:m,value:"",style:{display:"none"}})]})]}),Te=I.h5`
    margin: 3px 10px 5px 14px;
    display: flex;
    align-items: center;

`,dt=I(vt)`
    height: calc(100% - 10px - 1em);
`,na=I.div`
    padding: .5em;
    margin: 4px 10px;
    max-height: 175px;
    width: calc(100% - 1em - 20px);
    overflow-y: auto;
`,ct=I.label`
    font-size: 1.1em;
    width: 300px;
    margin: 3px 5px;
    margin-left: 10px;
    border-radius: 4px;
    padding: .1em .3em;
    background-color: ${i=>i.$COLOR?i.$COLOR:i.$UPDATE?"#d9dbf2":i.$ADD?"#eafde8":"#fff"};


`,_e=I.div`
    height: auto;
    border-radius: 4px;
    margin: 2px 0;
    padding: 1ch;
    background-color: #fff9;

`,ia=I(T)`
    @media (max-width: 850px) {
        flex-direction: column;
        align-items: start;
    }
`,ut=I(T)`
    width: 50%;
    margin: ${i=>i.$SCD?"":"5px 10px"};
    @media (max-width: 850px) {
        width: calc(100% - 10px);
        margin: 5px 10px;
    }
`,sa=I(ee)`
    margin: 3px;
    width: 110px;
    font-size: 0.9em;
    font-weight: normal;
    height: calc(100% - 6px);
    padding: 5px 5px;

`,Ua=I.div`
    background-color: ${({theme:i})=>i.detai_kurul_card_wrapper};
    width: calc(100% - 20px);
    height: 60px;
    padding: 5px;
    margin: 5px;
    border-radius: 10px;
    display: flex;
    align-items: center;
`,Ya=I(F)`
    height: 60px;
    width: 60px;
    font-size: 100%;
    margin: 5px;
    color: #f2f2f2;
`,Ie=({add:i,update:m,name:r,handleChange:s,title:n,data:u,controlUnit:o,disabled:v})=>{const t=new Set(o);return e.jsxs(Ua,{style:{display:`${u!=null&&u.every(f=>t.has(f.id))?"none":"flex"}`},children:[e.jsx(Ya,{icon:Vt}),e.jsxs(ha,{disabled:v,$ADD:i,$UPDATE:m,name:r,onChange:s,children:[e.jsx("option",{hidden:!0,children:n}),u==null?void 0:u.map((f,a)=>{if(!(o!=null&&o.includes(f.id)))return e.jsx(ga,{$ADD:i,$UPDATE:m,value:f.id,children:f.name},a)})]})]})};Re.defaults.debug=!1;const be=async(i,m,r,s)=>{try{const n=await Re({method:i,url:`http://api.proje.isyeriegitimi.com/thesis-manual/${m}`,data:r,headers:{"X-CSRF-TOKEN":localStorage.getItem("XEV")},...s});return{resData:n.data,status:n.status}}catch(n){if(n.response.data.authOut)return alert(`${n.response.data.code} - OTURUM KAPATILIYOR`),window.location.href="/admin/dashboard";throw{data:n.response.data,status:n.response.status}}},qa=i=>i.title.trim().replace(/ +/g," ").length<3?"Başlık en 3 karakter olmalı.":i.subtitle.trim().replace(/ +/g," ").length<5?"Alt başlık en 5 karakter olmalı.":null,Ba=({setHead:i,backFunc:m,setBackFunc:r})=>{var Ee,Je,te,Ve,Qe,Xe,He,et,tt,Le;const[s,n]=g.useState(null),u=()=>{i("ETKİNLİKLER"),m(),r(null)},[o,v]=g.useState({title:"",start_date:"",end_date:""}),[t,f]=g.useState({title:"",subtitle:"",dates:[],committee_chairman:0,science_committee:[],regulatory_authority:[],onAir:!0,images:[],files:[]}),[a,y]=g.useState([]),{isLoading:x,isError:l,data:c,error:p}=J({queryKey:["c_all"],queryFn:()=>ve("get","")}),{isLoading:_,isError:C,data:E,error:$}=J({queryKey:["tm_info"],queryFn:()=>be("get","info")});g.useEffect(()=>{i("ETKİNLİKLER - Ekle"),r(()=>()=>{u()})},[]);function P(k){if(L.isPending||L.isSuccess)return 0;k.target.name==="start_date"||k.target.name==="end_date"?v({...o,[k.target.name]:new Date(k.target.value)}):v({...o,[k.target.name]:k.target.value})}function j(k,K){if(L.isPending||L.isSuccess)return 0;if(k.target.name==="images"){for(let R=0;R<k.target.files.length;R++)if(t.images.length<12){const Q=k.target.files[R].name.lastIndexOf("."),xe=k.target.files[R].name.slice(0,Q),fe=URL.createObjectURL(k.target.files[R]);t.images.push({file:k.target.files[R],url:fe,title:Q===-1||Q===0?k.target.files[R].name:xe})}f({...t})}else if(k.target.name==="files"){for(let R=0;R<k.target.files.length;R++)if(t.files.length<8){const Q=k.target.files[R].name.lastIndexOf("."),xe=k.target.files[R].name.slice(0,Q),fe=URL.createObjectURL(k.target.files[R]);t.files.push({file:k.target.files[R],url:fe,title:Q===-1||Q===0?k.target.files[R].name:xe})}f({...t})}else if(k.target.name==="onAir")f({...t,[k.target.name]:!t.onAir});else if(k.target.name==="file_name")t.files[K].title=k.target.value,f({...t});else if(k.target.name==="image_name")t.images[K].title=k.target.value,f({...t});else if(k.target.name==="schedule"){const R=URL.createObjectURL(k.target.files[0]);f({...t,[k.target.name]:{file:k.target.files[0],url:R}})}else k.target.name==="start_date"||k.target.name==="end_date"||k.target.name==="sum_first_day_date"||k.target.name==="sum_last_day_date"||k.target.name==="text_first_day_date"||k.target.name==="text_last_day_date"?f({...t,[k.target.name]:new Date(k.target.value)}):k.target.name==="committee_chairman"?f({...t,[k.target.name]:parseInt(k.target.value)}):k.target.name==="science_committee"?(t.science_committee.push(parseInt(k.target.value)),f({...t})):k.target.name==="regulatory_authority"?(t.regulatory_authority.push(parseInt(k.target.value)),f({...t})):f({...t,[k.target.name]:k.target.value});n(null)}const h=()=>{if(L.isPending||L.isSuccess)return 0;o.start_date!==""&&o.end_date!==""&&o.title!==""&&(a.push(`${o.title}: ${H(o.start_date,o.end_date)}`),y(a),v({...o,title:""}))},[b,A]=g.useState(0),L=N({mutationFn:k=>ke("post","",k,{withCredentials:!0,onUploadProgress:K=>A(Math.round(K.loaded*1e3/K.total))}),onError:k=>{n(`${k.data.code} - ${k.data.message}`)},onSuccess:()=>{setTimeout(()=>{u()},1e3)}}),S=()=>{const k=qa(t);if(k)return n(k);const K=[];K.push(`Özet Gönderimi İçin Son Tarih: ${H(t.sum_first_day_date,t.sum_last_day_date)}`),K.push(`Tam Metin Gönderme Tarihi: ${H(t.text_first_day_date,t.text_last_day_date)}`),K.push(`${M[t.event_type||0]} Tarihi: ${H(t.start_date,t.end_date)}`),t.dates=K;const{images:R,schedule:Q,files:xe,...fe}=t,Ne=[];xe.map((Z,at)=>{Ne.push(Z.title)});const Me=[];R.map((Z,at)=>{Me.push(Z.title)});const pe=new FormData;pe.append("data",JSON.stringify({...fe,dates:[...t.dates,...a],file_titles:Ne,image_titles:Me})),t.schedule&&pe.append("schedule",t.schedule.file,oe(t.schedule.file.name));for(let Z=0;Z<t.images.length;Z++)pe.append("images",t.images[Z].file,oe(t.images[Z].file.name));for(let Z=0;Z<t.files.length;Z++)pe.append("files",t.files[Z].file,oe(t.files[Z].file.name));L.mutate(pe)};function G(){if(L.isPending||L.isSuccess)return 0;const{schedule:k,...K}=t;f(K)}function X(k){if(L.isPending||L.isSuccess)return 0;t.images.map((K,R)=>{K.url===k&&t.images.splice(R,1)}),f({...t})}function De(k){if(L.isPending||L.isSuccess)return 0;t.files.map((K,R)=>{K.url===k&&t.files.splice(R,1)}),f({...t})}function ge(k){if(L.isPending||L.isSuccess)return 0;y(a.filter((K,R)=>R!==k))}function O(k,K){if(L.isPending||L.isSuccess)return 0;K==="committee_chairman"&&f({...t,committee_chairman:0}),K==="science_committee"&&f({...t,science_committee:t.science_committee.filter((R,Q)=>Q!==k)}),K==="regulatory_authority"&&f({...t,regulatory_authority:t.regulatory_authority.filter((R,Q)=>Q!==k)})}return e.jsxs(We,{children:[e.jsxs(T,{children:[e.jsxs(Ze,{name:"event_type",onChange:j,children:[e.jsx(le,{hidden:!0,children:"Etkinlik Tipi: Sempozyum"}),e.jsx(le,{value:0,children:"Sempozyum"}),e.jsx(le,{value:1,children:"Panel"}),e.jsx(le,{value:2,children:"Çalıştay"})]}),e.jsx(D,{title:"Etkinliğin tipi şeçiniz. Varsayılan sempozyum."})]}),e.jsxs(T,{children:[e.jsx(se,{$ADD:!0,maxLength:100,onChange:j,name:"title",placeholder:`Etkinlik (${M[t.event_type||0]}) Başlığı`}),e.jsx(D,{title:"Etkinliğin başlık alanıdır. Minumum 3, maksimum 100 karakter girilebilir."})]}),e.jsxs(T,{children:[e.jsx(se,{$ADD:!0,maxLength:200,onChange:j,name:"subtitle",placeholder:`Etkinlik (${M[t.event_type||0]}) Alt Başlığı`}),e.jsx(D,{title:"Etkinliğin alt başlık alanıdır. Minumum 5, maksimum 200 karakter girilebilir. Sadece tabloda görünür."})]}),e.jsxs(ia,{children:[e.jsxs(ut,{children:[e.jsxs("label",{style:{color:"black",fontSize:"1rem",margin:"2px"},children:["Etkinlik (",M[t.event_type||0],") Başlangıç Tarihi: "]}),e.jsx(W,{name:"start_date",onChange:j}),e.jsx(D,{title:`Etkinlik(${M[t.event_type||0]}) bitiş tarihi.`})]}),e.jsxs(ut,{$SCD:!0,children:[e.jsxs("label",{style:{color:"black",fontSize:"1rem",margin:"2px"},children:["Etkinlik (",M[t.event_type||0],") Bitiş Tarihi: "]}),e.jsx(W,{name:"end_date",onChange:j}),e.jsx(D,{title:`Etkinlik(${M[t.event_type||0]}) bitiş tarihi.`})]})]}),e.jsx(q,{children:"Hakkında"}),e.jsxs(T,{style:{height:"calc(100% - 380px - 20px - 1.6em)"},children:[e.jsx(dt,{$ADD:!0,maxLength:1e3,placeholder:`${M[t.event_type||0]} Amacı`,onChange:j,name:"purpose"}),e.jsx(D,{title:`Etkinlik(${M[t.event_type||0]}) hakkında kısmındaki amaç alanı.`})]}),e.jsxs(T,{style:{height:"calc(100% - 380px - 20px - 1.6em)"},children:[e.jsx(dt,{$ADD:!0,maxLength:5e3,placeholder:`${M[t.event_type||0]} Metni`,onChange:j,name:"text"}),e.jsx(D,{title:`Etkinlik(${M[t.event_type||0]}) hakkında kısmındaki metin alanı.`})]}),e.jsx(q,{children:"Tarihler"}),e.jsx(T,{children:e.jsxs(na,{children:[e.jsxs(_e,{children:["Özet Gönderimi İçin Son Tarih: ",H(t.sum_first_day_date,t.sum_last_day_date)]}),e.jsxs(_e,{children:["Tam Metin Gönderme Tarihi: ",H(t.text_first_day_date,t.text_last_day_date)]}),e.jsxs(_e,{children:[M[t.event_type||0]," Tarihi: ",H(t.start_date,t.end_date)]}),a.map((k,K)=>e.jsxs("div",{style:{position:"relative"},children:[e.jsx(_e,{children:k}),e.jsx(ne,{onClick:()=>ge(a.indexOf(k)),children:e.jsx(F,{icon:ie})})]},K))]})}),e.jsxs(T,{children:[e.jsx(ct,{$ADD:!0,children:"Özet Gönderim Tarih Aralığı"}),e.jsx(W,{name:"sum_first_day_date",onChange:j}),e.jsx(W,{name:"sum_last_day_date",onChange:j}),e.jsx(D,{title:"Özet gönderim tarih aralığını sistemin tanıması için soldaki tarih girdisinden seçiniz."})]}),e.jsxs(T,{children:[e.jsx(ct,{$ADD:!0,children:"Tam Metin Gönderim Tarih Aralığı"}),e.jsx(W,{name:"text_first_day_date",onChange:j,type:"date"}),e.jsx(W,{name:"text_last_day_date",onChange:j,type:"date"}),e.jsx(D,{title:"Tam metin gönderim tarih aralığını sistemin tanıması için soldaki tarih girdisinden seçiniz."})]}),e.jsxs(T,{children:[e.jsx(se,{name:"title",$ADD:!0,style:{width:"calc(100% - 260px)"},value:o.title,placeholder:"Belirli Tarih Başlığı - Örnek: Özet Gönderimi İçin Son Tarih",onChange:P}),e.jsx(W,{name:"start_date",onChange:P,type:"date"}),e.jsx(W,{name:"end_date",onChange:P,type:"date"}),e.jsx(sa,{onClick:h,children:"TARİH EKLE"}),e.jsx(D,{title:"Örnekte gösterildiği gibi başlığını giriniz(':' olmadan). Başlangıç tarihi ve bitiş tarihi seçin ekleye tıklayın. Tarih eklenince yukarıda belirecektir."})]}),e.jsxs(q,{children:["Kurullar ",e.jsx(D,{style:{fontSize:"1em",marginLeft:"2px"},title:"Kurul üyelerini seçerek etkinliğe ekleyiniz. Eklemek istediğniz kurul üyesi mevcut değilse komite üyeleri menüsünden ekleyeniz."})]}),e.jsx(Te,{children:"Onursal Başkan"}),t.committee_chairman!==0?e.jsx("div",{children:e.jsx(Pe,{data:c.resData.find(k=>k.id===t.committee_chairman),children:e.jsx(ne,{onClick:()=>O(null,"committee_chairman"),children:e.jsx(F,{icon:ie})})})}):e.jsx(Ie,{add:!0,name:"committee_chairman",handleChange:j,data:c==null?void 0:c.resData,title:x?"Kurul Üyeleri Listeleniyor...":l?`${(Ee=p.data)==null?void 0:Ee.code} - ${(Je=p.data)==null?void 0:Je.message}`:"Onursal Başkan Seçiniz",disabled:x||l}),e.jsx(Te,{children:"Bilim Kurulu"}),e.jsxs(ot,{children:[(te=t.science_committee)==null?void 0:te.map((k,K)=>e.jsx(Pe,{data:c.resData.find(R=>R.id===k),children:e.jsx(ne,{onClick:()=>O(t.science_committee.indexOf(k),"science_committee"),children:e.jsx(F,{icon:ie})})},K)),e.jsx(Ie,{add:!0,name:"science_committee",handleChange:j,data:c==null?void 0:c.resData,controlUnit:t.science_committee,title:x?"Kurul Üyeleri Listeleniyor...":l?`${(Ve=p.data)==null?void 0:Ve.code} - ${(Qe=p.data)==null?void 0:Qe.message}`:"Bilim Kurulu Üyesi Seçin",disabled:x||l})]}),e.jsx(Te,{children:"Düzenleme Kurulu"}),e.jsxs(ot,{children:[(Xe=t.regulatory_authority)==null?void 0:Xe.map((k,K)=>e.jsx(Pe,{data:c.resData.find(R=>R.id===k),children:e.jsx(ne,{onClick:()=>O(t.regulatory_authority.indexOf(k),"regulatory_authority"),children:e.jsx(F,{icon:ie})})},K)),e.jsx(Ie,{add:!0,name:"regulatory_authority",handleChange:j,data:c==null?void 0:c.resData,controlUnit:t.regulatory_authority,title:x?"Kurul Üyeleri Listeleniyor...":l?`${(He=p.data)==null?void 0:He.code} - ${(et=p.data)==null?void 0:et.message}`:"Düzenleme Kurulu Üyesi Seçiniz",disabled:x||l})]}),e.jsx(q,{children:"Yazım Kuralları"}),e.jsxs(T,{children:[e.jsxs(Ze,{disabled:_||C,onChange:j,name:"thesis_manual_id",children:[(_||C)&&e.jsx("option",{hidden:!0,children:_?"Yazım Kuralları Listeleniyor...":C?`${(tt=$.data)==null?void 0:tt.code} - ${(Le=$.data)==null?void 0:Le.message}`:""}),E==null?void 0:E.resData.map((k,K)=>e.jsx(le,{value:k.id,children:k.indicator},K))]}),e.jsx(D,{title:"Kayıtlı yazım kurallarından seçiniz. Varsayılan şu an seçili olan yazım kuralıdır."})]}),e.jsxs(q,{children:["Oturum Takvimi",e.jsx(D,{style:{fontSize:"1em",marginLeft:"2px"},title:"Etkinliğin oturum takvimini (günlük yapılacaklar) görsel formatında ekleyiniz."})]}),e.jsx($e,{schedule:!0,title:"Oturum Takvimi yüklemek zorunludur. Görsel olarak yükleyiniz",image:t.schedule,handleChange:j,removeFunc:G}),e.jsxs(q,{children:["Galeri ",e.jsx(D,{style:{fontSize:"1em",marginLeft:"2px"},title:"Etkinlik hakkında görseller yükleyebilirsiniz, en fazla 12 adet."})]}),e.jsx(ta,{images:t.images,handleChange:j,removeFunc:X}),e.jsxs(q,{children:["İçerik ",e.jsx(D,{style:{fontSize:"1em",marginLeft:"2px"},title:"Etkinlik hakkında dosyalar yükleyebilirsiniz, en fazla 8 adet."})]}),e.jsx(aa,{handleChange:j,files:t.files,removeFunc:De}),e.jsxs(T,{style:{justifyContent:"center"},children:[e.jsxs(St,{children:[e.jsx(Ct,{onChange:j,name:"onAir",checked:t.onAir}),"Yayına Alısın Mı?"]}),e.jsx(D,{title:"Etkinlik yüklendikten sonra gösterime çıksın mı?"})]}),L.isSuccess&&!s&&e.jsx(V,{children:L.data.resData.message}),s&&e.jsx(Y,{children:s}),b!==0&&!L.isSuccess&&!s&&e.jsxs(Ut,{children:[e.jsx(Yt,{children:b!==1e3?`${b}/1000`:"Bekleyiniz..."}),e.jsx(qt,{$PROGRESS:b})]}),e.jsx(ee,{$PENDING:L.isPending,disabled:L.isPending||L.isSuccess,onClick:S,children:"ONAYLA"})]})},Ga=i=>i.title.trim().replace(/ +/g," ").length<3?"Başlık en 3 karakter olmalı.":i.subtitle.trim().replace(/ +/g," ").length<5?"Alt başlık en 5 karakter olmalı.":null,Za=({setHead:i,backFunc:m,setBackFunc:r})=>{var K,R,Q,xe,fe,Ne,Me,pe,Z,at,$t,Dt;const[s,n]=g.useState(null),u=()=>{i("ETKİNLİKLER"),m(),r(null)},[o,v]=g.useState({title:"",start_date:"",end_date:""}),[t,f]=g.useState(null),[a,y]=g.useState(null),[x,l]=g.useState([]),{isLoading:c,isError:p,data:_,error:C}=J({queryKey:["c_all"],queryFn:()=>ve("get","")}),{isLoading:E,isError:$,data:P,error:j}=J({queryKey:["tm_info"],queryFn:()=>be("get","info")}),{isLoading:h,isError:b,data:A,error:L}=J({queryKey:["e_info"],queryFn:()=>ke("get","info")});g.useEffect(()=>{b&&setTimeout(()=>{u()},3e3)},[b]),g.useEffect(()=>{i("ETKİNLİKLER - Güncelle"),r(()=>()=>{u()})},[]);const S=[],G=[],X=N({mutationFn:d=>ke("get",`${d}/for-update`),onError:d=>{n(`${d.data.code} - ${d.data.message}`)},onSuccess:d=>{var w,U,ce;(w=d.resData.contents)==null||w.map((ae,Se)=>{const ue=JSON.parse(ae);G.push({...ue,file:{name:ue.file_name},url:`http://api.proje.isyeriegitimi.com/Contents/Events/${d.resData.id}/${ue.file_name}`})}),(U=d.resData.gallery)==null||U.map((ae,Se)=>{const ue=JSON.parse(ae);S.push({...ue,url:`http://api.proje.isyeriegitimi.com/Images/Events/${d.resData.id}/${ue.image_id}.jpg`})});const z={...d.resData,start_date:d.resData.start_date?Ae(d.resData.start_date):null,end_date:d.resData.end_date?Ae(d.resData.end_date):null,sum_first_day_date:d.resData.sum_first_day_date?Ae(d.resData.sum_first_day_date):null,sum_last_day_date:d.resData.sum_last_day_date?Ae(d.resData.sum_last_day_date):null,text_first_day_date:d.resData.text_first_day_date?Ae(d.resData.text_first_day_date):null,text_last_day_date:d.resData.text_last_day_date?Ae(d.resData.text_last_day_date):null,contents:G,gallery:S,files:[],images:[],dates:[],imageFreeId:[],fileFreeId:[]};d.resData.schedule?z.schedule={url:`http://api.proje.isyeriegitimi.com/Images/Events/${d.resData.id}/schedule.jpg`}:z.schedule=!1,y(z),l((ce=d.resData.dates)==null?void 0:ce.slice(3))}});function De(){t?X.mutate(t):n("Lütfen önce güncellemek istediğiniz etkinliği seçiniz.")}function ge(d){if(te.isPending||te.isSuccess)return 0;d.target.name==="start_date"||d.target.name==="end_date"?v({...o,[d.target.name]:new Date(d.target.value)}):v({...o,[d.target.name]:d.target.value})}function O(d,z){if(d.target.name==="images"){for(let w=0;w<d.target.files.length;w++)if(a.gallery.length<12){const U=d.target.files[w].name.lastIndexOf("."),ce=d.target.files[w].name.slice(0,U),ae=URL.createObjectURL(d.target.files[w]);a.images.push({file:d.target.files[w],url:ae,title:U===-1||U===0?d.target.files[w].name:ce}),a.gallery.push({url:ae,title:U===-1||U===0?d.target.files[w].name:ce})}y({...a})}else if(d.target.name==="files"){for(let w=0;w<d.target.files.length;w++)if(a.contents.length<8){const U=d.target.files[w].name.lastIndexOf("."),ce=d.target.files[w].name.slice(0,U),ae=URL.createObjectURL(d.target.files[w]);a.files.push({file:d.target.files[w],url:ae,title:U===-1||U===0?d.target.files[w].name:ce}),a.contents.push({url:ae,file:{name:d.target.files[w].name},title:U===-1||U===0?d.target.files[w].name:ce})}y({...a})}else if(d.target.name==="onAir")y({...a,[d.target.name]:!a.onAir});else if(d.target.name==="file_name")a.files[z].title=d.target.value,y({...a});else if(d.target.name==="image_name")a.gallery[z].title=d.target.value,y({...a});else if(d.target.name==="schedule"){const w=URL.createObjectURL(d.target.files[0]);y({...a,[d.target.name]:{file:d.target.files[0],url:w}})}else d.target.name==="start_date"||d.target.name==="end_date"||d.target.name==="sum_first_day_date"||d.target.name==="sum_last_day_date"||d.target.name==="text_first_day_date"||d.target.name==="text_last_day_date"?y({...a,[d.target.name]:new Date(d.target.value)}):d.target.name==="committee_chairman"?y({...a,[d.target.name]:parseInt(d.target.value)}):d.target.name==="science_committee"?(a.science_committee.push(parseInt(d.target.value)),y({...a})):d.target.name==="regulatory_authority"?(a.regulatory_authority.push(parseInt(d.target.value)),y({...a})):y({...a,[d.target.name]:d.target.value});n(null)}const[Ee,Je]=g.useState(0),te=N({mutationFn:d=>ke("put","",d,{withCredentials:!0,onUploadProgress:z=>Je(Math.round(z.loaded*1e3/z.total))}),onError:d=>{n(`${d.data.code} - ${d.data.message}`)},onSuccess:()=>{setTimeout(()=>{u()},1e3)}}),Ve=()=>{var ue;const d=Ga(a);if(d)return n(d);const z=[];z.push(`Özet Gönderimi İçin Son Tarih: ${H(a.sum_first_day_date,a.sum_last_day_date)}`),z.push(`Tam Metin Gönderme Tarihi: ${H(a.text_first_day_date,a.text_last_day_date)}`),z.push(`${M[a.event_type||0]} Tarihi: ${H(a.start_date,a.end_date)}`),a.dates=z;const{images:w,schedule:U,files:ce,...ae}=a;a.schedule===-1&&(ae.schedule=-1);const Se=new FormData;Se.append("data",JSON.stringify({...ae,dates:[...a.dates,...x]})),(ue=a.schedule)!=null&&ue.file&&Se.append("schedule",a.schedule.file,oe(a.schedule.file.name));for(let me=0;me<a.images.length;me++)Se.append("images",a.images[me].file,oe(a.images[me].file.name));for(let me=0;me<a.files.length;me++)Se.append("files",a.files[me].file,oe(a.files[me].file.name));te.mutate(Se)},Qe=()=>{o.start_date!==""&&o.end_date!==""&&o.title!==""&&(x.push(`${o.title}: ${H(o.start_date,o.end_date)}`),l(x),v({...o,title:""}))},Xe=()=>{y({...a,schedule:-1})},He=d=>{a.gallery.map((z,w)=>{z.url===d&&((z.image_id||z.image_id===0)&&a.imageFreeId.push(z.image_id),a.gallery.splice(w,1))}),y({...a})},et=d=>{a.contents.map((z,w)=>{z.url===d&&(z.file_name&&a.fileFreeId.push(z.file_name.substring(0,1)),a.contents.splice(w,1))}),y({...a})},tt=d=>{l(x.filter((z,w)=>w!==d))};function Le(d,z){z==="committee_chairman"&&y({...a,committee_chairman:0}),z==="science_committee"&&y({...a,science_committee:a.science_committee.filter((w,U)=>U!==d)}),z==="regulatory_authority"&&y({...a,regulatory_authority:a.regulatory_authority.filter((w,U)=>U!==d)})}function k(d){const z=d.getFullYear(),w=String(d.getMonth()+1).padStart(2,"0"),U=String(d.getDate()).padStart(2,"0");return`${z}-${w}-${U}`}return e.jsx(e.Fragment,{children:X.isSuccess?e.jsxs(We,{children:[e.jsxs(T,{children:[e.jsxs(Ce,{value:a.event_type,name:"event_type",onChange:O,children:[e.jsx(de,{value:0,children:"Sempozyum"}),e.jsx(de,{value:1,children:"Panel"}),e.jsx(de,{value:2,children:"Çalıştay"})]}),e.jsx(D,{title:"Etkinliğin tipi şeçiniz. Varsayılan sempozyum."})]}),e.jsxs(T,{children:[e.jsx(se,{value:a.title,$UPDATE:!0,onChange:O,name:"title",placeholder:`Etkinlik (${M[a.event_type||0]}) Başlığı`}),e.jsx(D,{title:"Etkinliğin başlık alanıdır. Minumum 1, maksimum 100 karakter girilebilir."})]}),e.jsxs(T,{children:[e.jsx(se,{value:a.subtitle,$UPDATE:!0,onChange:O,name:"subtitle",placeholder:`Etkinlik (${M[a.event_type||0]}) Alt Başlığı`}),e.jsx(D,{title:"Etkinliğin alt başlık alanıdır. Minumum 5, maksimum 200 karakter girilebilir. Sadece tabloda görünür."})]}),e.jsxs(ia,{children:[e.jsxs(ut,{style:{width:"50%",margin:"5px 10px"},children:[e.jsxs("label",{style:{color:"black",fontSize:"1rem",margin:"2px"},children:["Etkinlik (",M[a.event_type||0],") Başlangıç Tarihi: "]}),e.jsx(W,{value:a.start_date?k(a.start_date):void 0,name:"start_date",onChange:O}),e.jsx(D,{title:`Etkinlik(${M[a.event_type||0]}) bitiş tarihi.`})]}),e.jsxs(ut,{style:{width:"50%"},children:[e.jsxs("label",{style:{color:"black",fontSize:"1rem",margin:"2px"},children:["Etkinlik (",M[a.event_type||0],") Bitiş Tarihi: "]}),e.jsx(W,{value:a.end_date?k(a.end_date):void 0,name:"end_date",onChange:O}),e.jsx(D,{title:`Etkinlik(${M[a.event_type||0]}) bitiş tarihi.`})]})]}),e.jsx(q,{children:"Hakkında"}),e.jsxs(T,{style:{height:"calc(100% - 380px - 20px - 1.6em)"},children:[e.jsx(dt,{value:a.purpose||void 0,$UPDATE:!0,maxLength:1e3,placeholder:`${M[a.event_type||0]} Amacı`,onChange:O,name:"purpose"}),e.jsx(D,{title:`Etkinlik(${M[a.event_type||0]}) hakkında kısmındaki amaç alanı.`})]}),e.jsxs(T,{style:{height:"calc(100% - 380px - 20px - 1.6em)"},children:[e.jsx(dt,{value:a.text||void 0,$UPDATE:!0,maxLength:5e3,placeholder:`${M[a.event_type||0]} Metni`,onChange:O,name:"text"}),e.jsx(D,{title:`Etkinlik(${M[a.event_type||0]}) hakkında kısmındaki metin alanı.`})]}),e.jsx(q,{children:"Tarihler"}),e.jsx(T,{children:e.jsxs(na,{children:[e.jsxs(_e,{children:["Özet Gönderimi İçin Son Tarih: ",H(a.sum_first_day_date,a.sum_last_day_date)]}),e.jsxs(_e,{children:["Tam Metin Gönderme Tarihi: ",H(a.text_first_day_date,a.text_last_day_date)]}),e.jsxs(_e,{children:[M[a.event_type||0]," Tarihi: ",H(a.start_date,a.end_date)]}),x==null?void 0:x.map((d,z)=>e.jsxs("div",{style:{position:"relative"},children:[e.jsx(_e,{children:d}),e.jsx(ne,{onClick:()=>tt(x.indexOf(d)),children:e.jsx(F,{icon:ie})})]},z))]})}),e.jsxs(T,{children:[e.jsx(ct,{$UPDATE:!0,children:"Özet Gönderim Tarih Aralığı"}),e.jsx(W,{value:a.sum_first_day_date?k(a.sum_first_day_date):void 0,name:"sum_first_day_date",onChange:O}),e.jsx(W,{value:a.sum_last_day_date?k(a.sum_last_day_date):void 0,name:"sum_last_day_date",onChange:O}),e.jsx(D,{title:"Özet gönderim tarih aralığını sistemin tanıması için soldaki tarih girdisinden seçiniz."})]}),e.jsxs(T,{children:[e.jsx(ct,{$UPDATE:!0,children:"Tam Metin Gönderim Tarih Aralığı"}),e.jsx(W,{value:a.text_first_day_date?k(a.text_first_day_date):void 0,name:"text_first_day_date",onChange:O,type:"date"}),e.jsx(W,{value:a.text_last_day_date?k(a.text_last_day_date):void 0,name:"text_last_day_date",onChange:O,type:"date"}),e.jsx(D,{title:"Tam metin gönderim tarih aralığını sistemin tanıması için soldaki tarih girdisinden seçiniz."})]}),e.jsxs(T,{children:[e.jsx(se,{name:"title",onChange:ge,$UPDATE:!0,style:{width:"calc(100% - 260px)"},value:o.title,placeholder:"Belirli Tarih Başlığı - Örnek: Özet Gönderimi İçin Son Tarih"}),e.jsx(W,{name:"start_date",onChange:ge,type:"date"}),e.jsx(W,{name:"end_date",onChange:ge,type:"date"}),e.jsx(sa,{onClick:Qe,children:"TARİH EKLE"}),e.jsx(D,{title:"Örnekte gösterildiği gibi başlığını giriniz(':' olmadan). Başlangıç tarihi ve bitiş tarihi seçin ekleye tıklayın. Tarih eklenince yukarıda belirecektir."})]}),e.jsx(q,{children:"Kurullar"}),e.jsxs(Te,{children:["Onursal Başkan ",e.jsx(D,{title:"Örnekte gösterildiği gibi tarihi başlığı ile birlikte el ile giriniz. Tarih eklenince yukarıda belirecektir."})]}),a.committee_chairman!==0?e.jsx("div",{children:e.jsx(Pe,{data:_.resData.find(d=>d.id===a.committee_chairman),children:e.jsx(ne,{onClick:()=>Le(null,"committee_chairman"),children:e.jsx(F,{icon:ie})})})}):e.jsx(Ie,{update:!0,name:"committee_chairman",handleChange:O,data:_==null?void 0:_.resData,title:c?"Kurul Üyeleri Listeleniyor...":p?`${(Q=C.data)==null?void 0:Q.code} - ${(xe=C.data)==null?void 0:xe.message}`:"Onursal Başkan Seçiniz",disabled:c||p}),e.jsx(Te,{children:"Bilim Kurulu"}),e.jsxs(ot,{children:[(fe=a.science_committee)==null?void 0:fe.map((d,z)=>e.jsx(Pe,{data:_.resData.find(w=>w.id===d),children:e.jsx(ne,{onClick:()=>Le(a.science_committee.indexOf(d),"science_committee"),children:e.jsx(F,{icon:ie})})},z)),e.jsx(Ie,{update:!0,name:"science_committee",handleChange:O,data:_==null?void 0:_.resData,controlUnit:a.science_committee,title:c?"Kurul Üyeleri Listeleniyor...":p?`${(Ne=C.data)==null?void 0:Ne.code} - ${(Me=C.data)==null?void 0:Me.message}`:"Bilim Kurulu Üyesi Seçin",disabled:c||p})]}),e.jsx(Te,{children:"Düzenleme Kurulu"}),e.jsxs(ot,{children:[(pe=a.regulatory_authority)==null?void 0:pe.map((d,z)=>e.jsx(Pe,{data:_.resData.find(w=>w.id===d),children:e.jsx(ne,{onClick:()=>Le(a.regulatory_authority.indexOf(d),"regulatory_authority"),children:e.jsx(F,{icon:ie})})},z)),e.jsx(Ie,{update:!0,name:"regulatory_authority",handleChange:O,data:_==null?void 0:_.resData,controlUnit:a.regulatory_authority,title:c?"Kurul Üyeleri Listeleniyor...":p?`${(Z=C.data)==null?void 0:Z.code} - ${(at=C.data)==null?void 0:at.message}`:"Düzenleme Kurulu Üyesi Seçiniz",disabled:c||p})]}),e.jsx(q,{children:"Yazım Kuralları"}),e.jsxs(T,{children:[e.jsxs(Ce,{disabled:E||$,onChange:O,name:"thesis_manual_id",children:[(E||$)&&e.jsx("option",{hidden:!0,children:E?"Yazım Kuralları Listeleniyor...":$?`${($t=j.data)==null?void 0:$t.code} - ${(Dt=j.data)==null?void 0:Dt.message}`:""}),P==null?void 0:P.resData.map((d,z)=>e.jsx(de,{value:d.id,children:d.indicator},z))]}),e.jsx(D,{title:"Kayıtlı yazım kurallarından seçiniz. Varsayılan şu an seçili olan yazım kuralıdır."})]}),e.jsxs(q,{children:["Oturum Takvimi",e.jsx(D,{style:{fontSize:"1em",marginLeft:"2px"},title:"Etkinliğin oturum takvimini (günlük yapılacaklar) görsel formatında ekleyiniz."})]}),e.jsx($e,{schedule:!0,title:"Oturum Takvimi yüklemek zorunludur. Görsel olarak yükleyiniz",image:a.schedule!==-1&&a.schedule,handleChange:O,removeFunc:Xe}),e.jsxs(q,{children:["Galeri ",e.jsx(D,{style:{fontSize:"1em",marginLeft:"2px"},title:"Etkinlik hakkında görseller yükleyebilirsiniz, en fazla 12 adet."})]}),e.jsx(ta,{images:a.gallery,handleChange:O,removeFunc:He}),e.jsxs(q,{children:["İçerik ",e.jsx(D,{style:{fontSize:"1em",marginLeft:"2px"},title:"Etkinlik hakkında dosyalar yükleyebilirsiniz, en fazla 8 adet."})]}),e.jsx(aa,{handleChange:O,files:a.contents,removeFunc:et}),e.jsxs(T,{children:[e.jsxs(St,{children:[e.jsx(Ct,{onChange:O,name:"onAir",checked:a.onAir}),"Yayına Alısın Mı?"]}),e.jsx(D,{title:"Etkinlik yüklendikten sonra gösterime çıksın mı?"})]}),te.isSuccess&&!s&&e.jsx(V,{children:te.data.resData.message}),s&&e.jsx(Y,{children:s}),Ee!==0&&!te.isSuccess&&!s&&e.jsxs(Ut,{children:[e.jsx(Yt,{children:Ee!==1e3?`${Ee}/1000`:"Bekleyiniz..."}),e.jsx(qt,{$PROGRESS:Ee})]}),e.jsx(ee,{$PENDING:te.isPending,disabled:te.isPending||te.isSuccess,onClick:Ve,children:"ONAYLA"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{disabled:h||X.isPending||b,onChange:d=>{f(d.target.value),n(null)},children:[e.jsx("option",{hidden:!0,children:h?"Etkinlikler Listeleniyor...":"Güncellenecek Etkinlik Başlığını Seçin"}),!h&&!b&&A.resData.map((d,z)=>e.jsx(de,{value:d.id,children:X.isPending?"Bekleyiniz...":d.title},z))]}),(b||s)&&e.jsx(Y,{children:b?`${(K=L.data)==null?void 0:K.code} - ${(R=L.data)==null?void 0:R.message}`:s}),e.jsx(mt,{$PENDING:h||X.isPending,disabled:h||X.isPending||b,onClick:De,children:"SEÇ"})]})})},Wa=({setHead:i,backFunc:m,setBackFunc:r})=>{var $,P;const[s,n]=g.useState(null),[u,o]=g.useState(!1),v=()=>{a?o(!0):n("Lütfen önce silmek istediğiniz etkinliği seçiniz.")},t=()=>o(!1),f=()=>{i("ETKİNLİKLER"),m(),r(null)},[a,y]=g.useState(null),{isLoading:x,isError:l,data:c,error:p}=J({queryKey:["e_info"],queryFn:()=>ke("get","info")});g.useEffect(()=>{l&&setTimeout(()=>{f()},3e3)},[l]);const _=N({mutationFn:j=>(o(!1),ke("delete",j,null,{withCredentials:!0})),onError:j=>{n(`${j.data.code} - ${j.data.message}`)},onSuccess:()=>{setTimeout(()=>{f()},1e3)}});g.useEffect(()=>{i("ETKİNLİKLER - Sil"),r(()=>()=>{f()})},[]);function C(){_.mutate(a)}const E=j=>{y(j.target.value),n(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(ht,{disabled:x||_.isPending||l,onChange:E,children:[e.jsx("option",{hidden:!0,children:x?"Etkinlikler Listeleniyor...":"Silinecek Etkinlik Başlığını Seçin"}),!x&&!l&&c.resData.map((j,h)=>e.jsx(gt,{value:j.id,children:_.isPending?"Bekleyiniz...":j.title},h))]}),u&&e.jsx(Fe,{YES:C,NO:t}),_.isSuccess&&!s&&e.jsx(V,{children:_.data.resData.message}),(l||s)&&e.jsx(Y,{children:l?`${($=p.data)==null?void 0:$.code} - ${(P=p.data)==null?void 0:P.message}`:s}),e.jsx(xt,{$PENDING:x||_.isPending,disabled:x||_.isPending||l||_.isSuccess,onClick:v,children:"SİL"})]})},Ye={nav:!1,add:!1,update:!1,delete:!1},Ja=({setHead:i,setBackFunc:m})=>{const[r,s]=g.useState({...Ye,nav:!0});g.useEffect(()=>{i("ETKİNLİKLER")},[]);const n=()=>{s({...Ye,nav:!0})};return e.jsxs(e.Fragment,{children:[r.nav&&e.jsxs(Ke,{children:[e.jsx(B,{onClick:()=>s({...Ye,add:!0}),icon:ka,color:"#22ff00",text:"EKLE"}),e.jsx(B,{onClick:()=>s({...Ye,update:!0}),icon:ft,color:"#2c37cb",text:"GÜNCELLE"}),e.jsx(B,{onClick:()=>s({...Ye,delete:!0}),icon:va,color:"#CB2C31",text:"SİL"})]}),r.add&&e.jsx(Ba,{backFunc:n,setBackFunc:m,setHead:i}),r.update&&e.jsx(Za,{backFunc:n,setBackFunc:m,setHead:i}),r.delete&&e.jsx(Wa,{backFunc:n,setBackFunc:m,setHead:i})]})},Va=({allEvents_IdAndTitle:i,setHead:m,backFunc:r,setBackFunc:s})=>{const[n,u]=g.useState(null),o=()=>{m("SLAYTLAR"),r(),s(null)},[v,t]=g.useState({onAir:!0}),f=N({mutationFn:l=>rt("post","",l,{withCredentials:!0}),onError:()=>{u(`${n.data.code} - ${n.data.message}`)},onSuccess:()=>{setTimeout(()=>{o()},1e3)}});g.useEffect(()=>{m("SLAYTLAR - Ekle"),s(()=>()=>{o()})},[]);function a(l){if(l.target.name==="image"){const c=URL.createObjectURL(l.target.files[0]);t({...v,image:{file:l.target.files[0],url:c}})}else if(l.target.name==="event_id")if(l.target.value!=="0")t({...v,[l.target.name]:parseInt(l.target.value)});else{const{event_id:c,...p}=v;t(p)}else if(l.target.name==="target")if(l.target.value!=="about")t({...v,[l.target.name]:l.target.value});else{const{target:c,...p}=v;t(p)}else l.target.name==="onAir"?t({...v,[l.target.name]:!v.onAir}):t({...v,[l.target.name]:l.target.value});u(null)}const y=()=>{if(!v.image)return u("Görsel eklemek zorunlu.");const{image:l,...c}=v,p=new FormData;p.append("data",JSON.stringify(c)),v.image&&p.append("image",v.image.file,oe(v.image.file.name)),f.mutate(p)};function x(){!f.isPending&&!f.isSuccess&&t({...v,image:null})}return e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[e.jsxs(Ze,{onChange:a,name:"event_id",children:[e.jsx("option",{hidden:!0,children:"Etkinlik ile Bağdaştır"}),e.jsx(le,{value:0,children:"Etkinlik Bağdaştırma Yok"}),i==null?void 0:i.map((l,c)=>e.jsx(le,{value:l.id,children:l.title},c))]}),e.jsx(D,{title:"Slayta tıklandığında açılacak etkinliği seçiniz. Eğer yoksa boş bırakınız."})]}),e.jsxs(T,{children:[e.jsxs(Ze,{onChange:a,name:"target",children:[e.jsx(le,{hidden:!0,children:"Etkinlik Alt Başlığı ile Bağdaştır"}),Mt.map((l,c)=>e.jsx(le,{value:l.link,children:l.tr},c))]}),e.jsx(D,{title:"Slayta tıklandığında açılacak etkinliğin alt başlığını seçiniz. Varsayılan Hakkında alt başlığıdır."})]}),e.jsxs(T,{children:[e.jsxs(St,{children:[e.jsx(Ct,{onChange:a,name:"onAir",checked:v.onAir}),"Yayına Alısın Mı?"]}),e.jsx(D,{title:"Slayt yüklendikten sonra gösterime çıksın mı?"})]}),e.jsx(q,{children:"Slayt Görseli Ekle (Zorunlu)"}),e.jsx($e,{crop:!!(n||f.isSuccess),slide:!0,title:"Görsel Eklemek Zorunlu",image:v.image,handleChange:a,removeFunc:x}),f.isSuccess&&!n&&e.jsx(V,{children:f.data.message}),n&&e.jsx(Y,{children:n}),e.jsx(ee,{$PENDING:f.isPending,disabled:f.isPending||f.isSuccess,onClick:y,children:"ONAYLA"})]})},Qa=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];let pt=null;const Xa=({allEvents_IdAndTitle:i,setHead:m,backFunc:r,setBackFunc:s})=>{const[n,u]=g.useState(null),[o,v]=g.useState(null),[t,f]=g.useState(!1),a=h=>{if(E.isPending||n||o||$.isPending)return 0;pt=h,f(!0)},y=()=>f(!1),x=()=>{m("SLAYTLAR"),r(),s(null)},{isLoading:l,isError:c,data:p,error:_}=J({queryKey:["slides_all"],queryFn:()=>rt("get","all",null,{withCredentials:!0}),refetchOnWindowFocus:!1});g.useEffect(()=>{c&&setTimeout(()=>{x()},3e3)},[c]),g.useEffect(()=>{m("SLAYTLAR - Güncelle - Sil"),s(()=>()=>{x()})},[]);const C=yt(),E=N({mutationFn:h=>rt("patch","",h,{withCredentials:!0}),onError:h=>{u(`${h.data.code} - ${h.data.message}`),setTimeout(()=>{u(null)},2600)},onSuccess:h=>{const{message:b,...A}=h;C.setQueryData(["slides_all"],L=>L.map(S=>S.id===A.id?A:S).sort((S,G)=>parseInt(S.queue)-parseInt(G.queue))),v(b),setTimeout(()=>{v(null)},2600)}}),$=N({mutationFn:h=>(pt=null,f(!1),rt("delete",h,null,{withCredentials:!0})),onError:h=>{u(`${h.data.code} - ${h.data.message}`),setTimeout(()=>{u(null)},2600)}}),P=h=>{$.mutate(h,{onSuccess:b=>{C.setQueryData(["slides_all"],A=>A.filter(L=>L.id!==h)),v(b.message),setTimeout(()=>{v(null)},2600)}})};function j(h,b){if(E.isPending||n||o||$.isPending)return 0;const A={id:b,[h.target.name]:h.target.value};E.mutate(A)}return e.jsxs("div",{style:{position:"relative",height:"100%",overflow:"hidden"},children:[o&&!n&&e.jsx(lt,{children:o}),n&&e.jsx(lt,{$ERROR:!0,children:n}),t&&e.jsx(Fe,{YES:()=>P(pt),NO:y}),e.jsxs(We,{children:[e.jsx("div",{style:{textAlign:"center",margin:"5px 10px",backgroundColor:"black",color:"white",padding:"5px 0",borderRadius:"5px"},children:"Lütfen daha sonra kullanmayacağınız slaytları siliniz."}),e.jsxs("div",{style:{textAlign:"center",margin:"5px 10px",backgroundColor:"black",color:"red",padding:"5px 0",borderRadius:"5px"},children:[e.jsx("label",{style:{fontWeight:"700"},children:"Dikkat!"})," Slaytın yayında olmaması demek sadece slayt ekranında gözükmeyeceği anlamına gelir. Arka plandan yetkisiz erişim yapılabilir."]}),l||c?c?e.jsx("div",{children:"Yüklenemedi"}):e.jsx("div",{children:"Slaytlar yükleniyor"}):p==null?void 0:p.map((h,b)=>e.jsxs(_t,{style:{margin:"10px 10px"},$SLIDE:!0,children:[e.jsx(kt,{src:`http://api.proje.isyeriegitimi.com/Images/Slider/${h.id}.jpg`,alt:"Loaded Photo"}),e.jsx(ne,{$PENDING:E.isPending||n||o||$.isPending,title:"Slaytı sil.",onClick:()=>a(h.id),children:e.jsx(F,{icon:ie})}),e.jsx(xa,{$PENDING:E.isPending||n||o||$.isPending,$onAir:h.onAir,title:h.onAir?"Şu an yayında, basarsanız yayından kalkar.":"Şu an yayında değil, basarsanız yayına girer.",onClick:()=>j({target:{name:"onAir",value:!h.onAir}},h.id),children:e.jsx(F,{icon:ba})}),e.jsx("select",{name:"queue",disabled:E.isPending||n||o||$.isPending,title:"Slayt sırası",style:{position:"absolute",top:"2em",right:"1em",outline:"0",cursor:E.isPending||n||o||$.isPending?"progress":"pointer"},value:h.queue,onChange:A=>j(A,h.id),children:Qa.map((A,L)=>e.jsx("option",{value:A,children:A},L))}),e.jsxs("select",{name:"event_id",disabled:E.isPending||n||o||$.isPending,title:"Etkinlik Başlığı Bağlılık",style:{position:"absolute",top:"1em",left:"1em",outline:"0",cursor:E.isPending||n||o||$.isPending?"progress":"pointer"},value:h.event_id,onChange:A=>j(A,h.id),children:[e.jsx("option",{value:0,children:"Etkinlik Bağdaştırma Yok"}),i==null?void 0:i.map((A,L)=>e.jsx("option",{value:A.id,children:A.title},L))]}),e.jsx("select",{name:"target",disabled:E.isPending||n||o||$.isPending,title:"Etkinlik Alt Başlığı Bağlılık",style:{position:"absolute",top:"3em",left:"1em",outline:"0",cursor:E.isPending||n||o||$.isPending?"progress":"pointer"},value:h.target||"about",onChange:A=>j(A,h.id),children:Mt.map((A,L)=>e.jsx("option",{value:A.link,children:A.tr},L))})]},b))]})]})},qe={nav:!1,add:!1,update_delete:!1},Ha=({setHead:i,setBackFunc:m,allEvents_IdAndTitle:r})=>{const[s,n]=g.useState({...qe,nav:!0});g.useEffect(()=>{i("SLAYTLAR")},[]);const u=()=>{n({...qe,nav:!0})};return e.jsxs(e.Fragment,{children:[s.nav&&e.jsxs(Ke,{children:[e.jsx(B,{onClick:()=>n({...qe,add:!0}),icon:bt,color:"#22ff00",text:"EKLE"}),e.jsx(B,{onClick:()=>n({...qe,update_delete:!0}),icon:ft,color:"#2c37cb",text:"GÜNCELLE"}),e.jsx(B,{onClick:()=>n({...qe,update_delete:!0}),icon:Et,color:"#CB2C31",text:"SİL"})]}),s.add&&e.jsx(Va,{allEvents_IdAndTitle:r,backFunc:u,setBackFunc:m,setHead:i}),s.update_delete&&e.jsx(Xa,{allEvents_IdAndTitle:r,backFunc:u,setBackFunc:m,setHead:i})]})},en=I.div`
    width: calc(100% - 20px);
    height: 500px;
    margin: 10px;
    
    @media (max-width: 635px) {
        margin: 3px;
        width: calc(100% - 6px);
    }
`,ye=({children:i,colors:m,selected:r,hover:s})=>{const[n,u]=g.useState(!1),o=()=>{u(!0)},v=()=>{u(!1)},t={backgroundColor:r?m.detail_nav_button_bc_selected:s||n?m.detail_nav_button_bc_hover:"transparent"};return e.jsx(he,{style:t,onMouseEnter:o,onMouseLeave:v,children:i})},tn=({setHead:i,backFunc:m,setBackFunc:r})=>{const[s,n]=g.useState(null),u=()=>{i("AYARLAR"),m(),r(null)},[o,v]=g.useState({detail_nav_bc:"#a33333",detail_nav_button_bc_hover:"#971a1a",detail_nav_button_bc_selected:"#8c0101"}),f=yt().getQueryData(["theme"]);g.useEffect(()=>{i("AYARLAR - Tema"),r(()=>()=>{u()}),v(f.theme)},[f]);function a(l){v({...o,[l.target.name]:l.target.value})}const y=N({mutationFn:l=>oa("put","",l,{withCredentials:!0}),onError:l=>{var c,p;n(`${(c=l.data)==null?void 0:c.code} - ${(p=l.data)==null?void 0:p.message}`),setTimeout(()=>{u()},1500)},onSuccess:()=>{setTimeout(()=>{location.reload()},400)}});function x(){y.mutate(o)}return e.jsx(We,{children:e.jsxs(en,{children:[e.jsx("label",{htmlFor:"selected",children:e.jsx(Bt,{style:{backgroundColor:o.detail_nav_button_bc_selected},children:e.jsx(Gt,{children:"SEMPOZYUM (def: #8C0101)"})})}),e.jsxs(Zt,{style:{height:"100%"},children:[e.jsx("label",{htmlFor:"background",children:e.jsxs(Wt,{style:{backgroundColor:o.detail_nav_bc},children:[e.jsx(ye,{colors:o,children:"Hakkında(#A33333)"}),e.jsx(ye,{colors:o,children:"Tarihler"}),e.jsx("label",{htmlFor:"selected",children:e.jsx(ye,{colors:o,selected:!0,children:"Kurullar (Seçili)"})}),e.jsx(ye,{colors:o,children:"Yazım Kuralları"}),e.jsx(ye,{colors:o,children:"Bildiri Gönder"}),e.jsx(ye,{colors:o,children:"Oturum Takvimi"}),e.jsx("label",{htmlFor:"hover",children:e.jsxs(ye,{colors:o,hover:!0,children:["Galeri  ",e.jsx(F,{icon:Ea})," (Üstünde#971A1A)"]})}),e.jsx(ye,{colors:o,children:"İçerik"})]})}),e.jsxs("div",{style:{width:"100%"},children:[e.jsx("input",{style:{display:"none"},id:"background",value:o==null?void 0:o.detail_nav_bc,type:"color",onChange:a,name:"detail_nav_bc"}),e.jsx("input",{style:{display:"none"},id:"selected",value:o==null?void 0:o.detail_nav_button_bc_selected,type:"color",onChange:a,name:"detail_nav_button_bc_selected"}),e.jsx("input",{style:{display:"none"},id:"hover",value:o==null?void 0:o.detail_nav_button_bc_hover,type:"color",onChange:a,name:"detail_nav_button_bc_hover"}),s&&e.jsx(Y,{children:s}),y.isSuccess&&!s&&e.jsx(V,{children:y.data.message}),e.jsx(ee,{$PENDING:y.isPending,disabled:y.isPending||y.isSuccess||y.isError,onClick:x,children:"ONAYLA"})]})]})]})})};Re.defaults.debug=!1;const Ge=async(i,m,r,s)=>{try{return(await Re({method:i,url:`http://api.proje.isyeriegitimi.com/user/${m}`,data:r,headers:{"X-CSRF-TOKEN":localStorage.getItem("XEV")},...s})).data}catch(n){if(n.response.data.authOut)return alert(`${n.response.data.code} - OTURUM KAPATILIYOR`),window.location.href="/admin/dashboard";throw{data:n.response.data,status:n.response.status}}},an=({setHead:i,backFunc:m,setBackFunc:r})=>{const[s,n]=g.useState(null),[u,o]=g.useState(null),v=()=>{i("AYARLAR"),m(),r(null)},[t,f]=g.useState({old_password:"",new_password:"",new_password_again:""});g.useEffect(()=>{i("AYARLAR - Şifre Değiştir"),r(()=>()=>{v()})},[]);function a(c){f({...t,[c.target.name]:c.target.value}),n(null),o(null)}const y=N({mutationFn:c=>Ge("patch","change-pwd",c,{withCredentials:!0}),onError:c=>{n(`${c.data.code} - ${c.data.message}`)},onSuccess:c=>{o(c.message),f({old_password:"",new_password:"",new_password_again:""})}}),x=c=>{if(String(c).match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\"\-_\/+=@$'!%,.:<£#>;\s*?|&^~\[\]{}\(\)])[A-Za-z\dğĞüÜşŞiİöÖçÇ@0$-_\/+=.:;<#£>,"!'%\s*?|(){\[\]}&^~]{10,250}$/))return{OK:!0};const _=String(c).match(/\d+/),C=String(c).match(/[A-Z]+/),E=String(c).match(/[a-z]+/),$=String(c).match(/[\"\-_\/+=@$'!%,.:<£#>;\s*?|(){}&^~]+/);return{OK:!1,requirements:[c.length>=10,C,E,_,$]}};function l(){if(y.isPending)return 0;if(t.old_password<1||t.new_password<1)return n("Lütfen hiç bir alanı boş bırakmayınız.");const c=x(t.new_password);if(!c.OK){const C=c.requirements[0]&&c.requirements[1]&&c.requirements[2]&&c.requirements[3]&&c.requirements[4]?e.jsx("div",{style:{color:"red"},children:"Yeni şifrenizde desteklenmeyen karakter kullandınız."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{color:c.requirements[0]?"green":"red"},children:"Şifre en az 10 karater olmalı"}),e.jsxs("div",{style:{color:"#f2f2f2"},children:[e.jsx("span",{style:{color:c.requirements[1]?"green":"red"},children:"En az bir büyük harf"}),", ",e.jsx("span",{style:{color:c.requirements[2]?"green":"red"},children:"bir küçük harf"}),", ",e.jsx("span",{style:{color:c.requirements[3]?"green":"red"},children:"bir rakam"})," ve ",e.jsxs("div",{style:{color:c.requirements[4]?"green":"red"},children:["bir özel karakter ",`[?@$£#&%! */+="-_':;.,({[<|>]})^~]`]})," içermelidir."]})]});return n(C)}if(t.new_password!==t.new_password_again)return n("Şifreler eşleşmiyor. (Yeni Şifre - Yeni Şifre Tekrar)");const{new_password_again:p,..._}=t;y.mutate(_)}return e.jsx(e.Fragment,{children:e.jsxs("div",{style:{backgroundColor:"#f2f2f2",margin:"2px",width:"calc(100% - 4px)",height:"300px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"4px",overflow:"hidden"},children:[e.jsxs(Qt,{children:[e.jsx(re,{maxLength:250,value:t.old_password,onChange:a,name:"old_password",placeholder:"Eski Şifre",type:"password"}),e.jsx(re,{maxLength:250,value:t.new_password,onChange:a,name:"new_password",placeholder:"Yeni Şifre",type:"password"}),e.jsx(re,{maxLength:250,value:t.new_password_again,onChange:a,name:"new_password_again",placeholder:"Yeni Şifre Tekrar",type:"password"})]}),e.jsxs("div",{style:{width:"60%"},children:[u&&!s&&e.jsx(V,{children:u}),s&&e.jsx(Y,{children:s}),e.jsx(ee,{$PENDING:y.isPending,disabled:y.isPending,onClick:l,children:"ONAYLA"})]})]})})},nt={nav:!1,theme:!1,changePassword:!1},nn=({setHead:i,setBackFunc:m})=>{const[r,s]=g.useState({...nt,nav:!0});g.useEffect(()=>{i("AYARLAR")},[]);const n=()=>{s({...nt,nav:!0})};return e.jsxs(e.Fragment,{children:[r.nav&&e.jsxs(Ke,{children:[e.jsx(B,{onClick:()=>s({...nt,theme:!0}),icon:Sa,color:"#22ff00",text:"TEMA"}),e.jsx(B,{onClick:()=>s({...nt,changePassword:!0}),icon:Ca,color:"#2c37cb",text:"PAROLA DEĞİŞTİR"})]}),r.theme&&e.jsx(tn,{backFunc:n,setBackFunc:m,setHead:i}),r.changePassword&&e.jsx(an,{backFunc:n,setBackFunc:m,setHead:i})]})},sn=({setHead:i,backFunc:m,setBackFunc:r})=>{const[s,n]=g.useState(null),[u,o]=g.useState(null),v={user_name:"",password:"",password_again:"",email:"",email_again:"",phone_number:"",first_name:"",last_name:""},[t,f]=g.useState(v);g.useEffect(()=>{i("KULLANICILARI YÖNET - Yeni Kullanıcı"),r(()=>()=>{i("KULLANICILARI YÖNET"),m(),r(null)})},[]);const a=N({mutationFn:p=>Ge("post","add",p,{withCredentials:!0}),onError:p=>{n(`${p.data.code} - ${p.data.message}`)},onSuccess:p=>{o(p.message),f(v)}}),y=p=>String(p).match(/^(\+?\d{0,12})$/);function x(p){p.target.name==="phone_number"?y(p.target.value)&&f(_=>({..._,[p.target.name]:p.target.value})):f(_=>({..._,[p.target.name]:p.target.value})),n(null),o(null)}const l=p=>{if(String(p).match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\"\-_\/+=@$'!%,.:<£#>;\s*?|&^~\[\]{}\(\)])[A-Za-z\dğĞüÜşŞiİöÖçÇ@0$-_\/+=.:;<#£>,"!'%\s*?|(){\[\]}&^~]{10,250}$/))return{OK:!0};const C=String(p).match(/\d+/),E=String(p).match(/[A-Z]+/),$=String(p).match(/[a-z]+/),P=String(p).match(/[\"\-_\/+=@$'!%,.:<£#>;\s*?|(){}&^~]+/);return{OK:!1,requirements:[p.length>=10,E,$,C,P]}};function c(){if(t.user_name.trim().length<1||t.password.length<1||t.password_again.length<1||t.email.length<1||t.email_again.length<1||t.phone_number.length<1||t.first_name.trim().length<1||t.last_name.trim().length<1)return n("Alanları boş bırakmayınız.");if(t.email!==t.email_again)return n("E-Posta adresleri uyuşmuyor.");const p=l(t.password);if(!p.OK){const $=p.requirements[0]&&p.requirements[1]&&p.requirements[2]&&p.requirements[3]&&p.requirements[4]?e.jsx("div",{style:{color:"red"},children:"Yeni şifrenizde desteklenmeyen karakter kullandınız."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{color:p.requirements[0]?"green":"red"},children:"Şifre en az 10 karater olmalı"}),e.jsxs("div",{style:{color:"#f2f2f2"},children:[e.jsx("span",{style:{color:p.requirements[1]?"green":"red"},children:"En az bir büyük harf"}),", ",e.jsx("span",{style:{color:p.requirements[2]?"green":"red"},children:"bir küçük harf"}),", ",e.jsx("span",{style:{color:p.requirements[3]?"green":"red"},children:"bir rakam"})," ve ",e.jsxs("div",{style:{color:p.requirements[4]?"green":"red"},children:["bir özel karakter ",`[?@$£#&%! */+="-_':;.,({[<|>]})^~]`]})," içermelidir."]})]});return n($)}if(t.password!==t.password_again)return n("Şifreler uyuşmuyor.");const{password_again:_,email_again:C,...E}=t;a.mutate(E)}return e.jsx(e.Fragment,{children:e.jsxs("div",{style:{backgroundColor:"#f2f2f2dd",margin:"2px",width:"calc(100% - 4px)",height:"calc(100% - 3px)",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"4px"},children:[e.jsxs(Qt,{children:[e.jsx(re,{maxLength:15,value:t.user_name,onChange:x,name:"user_name",placeholder:"Kullanıcı Adı",type:"text"}),e.jsx(re,{maxLength:250,value:t.password,onChange:x,name:"password",placeholder:"Şifre",type:"password"}),e.jsx(re,{maxLength:250,value:t.password_again,onChange:x,name:"password_again",placeholder:"Şifre Tekrar",type:"password"}),e.jsx(re,{maxLength:250,value:t.email,onChange:x,name:"email",placeholder:"E-Posta",type:"text"}),e.jsx(re,{maxLength:250,value:t.email_again,onChange:x,name:"email_again",placeholder:"E-Posta Tekrar",type:"text"}),e.jsx(re,{maxLength:18,value:t.phone_number,onChange:x,name:"phone_number",placeholder:"Telefon Numarası",type:"tel"}),e.jsx(re,{maxLength:50,value:t.first_name,onChange:x,name:"first_name",placeholder:"Ad",type:"text"}),e.jsx(re,{maxLength:50,value:t.last_name,onChange:x,name:"last_name",placeholder:"Soyad",type:"text"})]}),e.jsxs("div",{style:{width:"60%"},children:[s&&e.jsx(Y,{children:s}),u&&!s&&e.jsx(V,{children:u}),e.jsx(ee,{$PENDING:a.isPending,disabled:a.isPending,onClick:c,children:"ONAYLA"})]})]})})},rn=I.div`
    margin: 3px;
    border-radius: 4px;
    padding: 4px 6px;
    width: calc(100% - 18px);
    background-color: #fffb;
    position: relative;
    display: flex;
    align-items: center;
`,ln=I.button`
    position: absolute;
    right: 7px;
    cursor: ${i=>i.$PENDING?"progress":"pointer"};

`,ze=I.div`
    background-color: bisque;
    padding: 1px 5px;
    margin: 0 4px;
    border-radius: 3px;

    @media (max-width: 1100px) {
        width: calc(100% - 18px);
    }
`,it=I(ze)`
    background-color: #704b5b;
    color: #f2f2f2;
`,Ft=I.div`
    display: flex;
    align-items: center;
    margin: 3px 0;

    @media (max-width: 1100px) {
        display: grid;
        grid-template-columns: auto auto;
        grid-gap: 4px 0;
    }
    @media (max-width: 750px) {
        display: grid;
        grid-template-columns: auto;
        grid-gap: 4px 0;
    }
`,on=({data:i,changeRank:m,deleteFunc:r,pending:s})=>{const n=u=>new Intl.DateTimeFormat("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Europe/Istanbul"}).format(u);return e.jsxs(rn,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[e.jsxs(Ft,{children:[e.jsxs(ze,{children:[e.jsx("i",{children:"Ad Soyad:"})," ",i.first_name," ",i.last_name]}),e.jsxs(ze,{children:[e.jsx("i",{children:"Kullanıcı Adı:"})," ",i.user_name]}),e.jsxs(ze,{children:[e.jsx("i",{children:"E-mail:"})," ",i.email]}),e.jsxs(ze,{children:[e.jsx("i",{children:"Tel:"})," ",i.phone_number]}),e.jsxs(ze,{children:[e.jsx("i",{children:"Yönetici Derecesi:"}),e.jsxs("select",{value:i.access_rank,disabled:s,onChange:u=>{m(u,i.id)},name:"access_rank",style:{outline:"none",border:"none",margin:"0 4px",cursor:s?"progress":"pointer"},children:[e.jsx("option",{children:"0"}),e.jsx("option",{children:"1"}),e.jsx("option",{children:"2"}),e.jsx("option",{children:"3"}),e.jsx("option",{children:"4"}),e.jsx("option",{children:"5"}),e.jsx("option",{children:"6"}),e.jsx("option",{children:"7"}),e.jsx("option",{children:"8"}),e.jsx("option",{children:"9"})]})]})]}),e.jsxs(Ft,{children:[e.jsxs(it,{children:[e.jsx("i",{children:"Kayıt Eden:"})," ",i.whoCreated]}),e.jsxs(it,{children:[e.jsx("i",{children:"Son Yetki Değiştiren:"})," ",i.whoLastAuth]}),e.jsxs(it,{children:[e.jsx("i",{children:"Kayıt Tarihi:"})," ",n(new Date(i.created_at))]}),e.jsxs(it,{children:[e.jsx("i",{children:"Son Giriş Tarihi:"})," ",i.last_sign_at?n(new Date(i.last_sign_at)):e.jsx("label",{style:{color:"red"},children:"Hiç Giriş Yapmadı"})]})]})]}),e.jsx(ln,{disabled:s,$PENDING:s,onClick:()=>r(i.id),children:"SİL"})]})};let jt=null;const dn=({setHead:i,backFunc:m,setBackFunc:r})=>{const[s,n]=g.useState(null),[u,o]=g.useState(null),[v,t]=g.useState(!1),f=j=>{if(C.isPending||s||u||E.isPending)return 0;jt=j,t(!0)},a=()=>t(!1),y=()=>{i("KULLANICILARI YÖNET"),m(),r(null)},{isLoading:x,isError:l,data:c,error:p}=J({queryKey:["users"],queryFn:()=>Ge("get","all",null,{withCredentials:!0})});g.useEffect(()=>{l&&setTimeout(()=>{y()},3e3)},[l]),g.useEffect(()=>{i("KULLANICILARI YÖNET - Kullanıcıları Yönet"),r(()=>()=>{y()})},[]);const _=yt(),C=N({mutationFn:j=>(jt=null,t(!1),Ge("delete",`delete/${j}`,null,{withCredentials:!0})),onError:j=>{n(`${j.data.code} - ${j.data.message}`),setTimeout(()=>{n(null)},2600)}}),E=N({mutationFn:j=>{const{id:h,...b}=j;return Ge("patch",h,b,{withCredentials:!0})},onError:j=>{n(`${j.data.code} - ${j.data.message}`),setTimeout(()=>{n(null)},2600)}});function $(j){C.mutate(j,{onSuccess:h=>{_.setQueryData(["users"],b=>b.filter(A=>A.id!==j)),o(h.message),setTimeout(()=>{o(null)},2600)}})}const P=(j,h)=>{if(C.isPending||s||u||E.isPending)return 0;const b=j.target.value;E.mutate({id:h,access_rank:b},{onSuccess:A=>{o(A.message),setTimeout(()=>{o(null)},2600),_.setQueryData(["users"],L=>L.map(S=>S.id===h?{...S,access_rank:parseInt(b)}:S).sort((S,G)=>G.access_rank-S.access_rank))}})};return e.jsxs("div",{style:{position:"relative",height:"100%",overflow:"hidden"},children:[u&&!s&&e.jsx(lt,{children:u}),s&&e.jsx(lt,{$ERROR:!0,children:s}),v&&e.jsx(Fe,{YES:()=>$(jt),NO:a}),e.jsx(We,{children:!x&&!l&&(c==null?void 0:c.map((j,h)=>e.jsx(on,{pending:C.isPending||s||u||E.isPending,data:j,changeRank:P,deleteFunc:f},h)))})]})},st={nav:!1,create_user:!1,manage_users:!1},cn=({setHead:i,setBackFunc:m})=>{const[r,s]=g.useState({...st,nav:!0});g.useEffect(()=>{i("KULLANICILARI YÖNET")},[]);const n=()=>{s({...st,nav:!0})};return e.jsxs(e.Fragment,{children:[r.nav&&e.jsxs(e.Fragment,{children:[e.jsx(B,{onClick:()=>s({...st,create_user:!0}),icon:$a,color:"#22ff00",text:"YENİ KULLANICI"}),e.jsx(B,{onClick:()=>s({...st,manage_users:!0}),icon:Da,color:"#2c37cb",text:"KULLANICILARI YÖNET"})]}),r.create_user&&e.jsx(sn,{backFunc:n,setBackFunc:m,setHead:i}),r.manage_users&&e.jsx(dn,{backFunc:n,setBackFunc:m,setHead:i})]})},ra=I(vt)`
    height: ${i=>i.$FEEDBACK?"calc(100% - 75px - 20px - 1.6em - 34px)":"calc(100% - 75px - 20px - 1.6em)"};
`,la=I(se)`
    font-weight: 600;
`,un=({setHead:i,backFunc:m,setBackFunc:r})=>{const[s,n]=g.useState(),[u,o]=g.useState({});g.useEffect(()=>{i("YAZIM KURALLARI - Ekle"),r(()=>()=>{i("YAZIM KURALLARI"),m(),r(null)})},[]);const v=a=>{o({...u,[a.target.name]:a.target.value}),n(null)},t=N({mutationFn:a=>be("post","",a,{withCredentials:!0}),onError:a=>{n(`${a.data.code} - ${a.data.message}`)},onSuccess:()=>{setTimeout(()=>{i("YAZIM KURALLARI"),m(),r(null)},1e3)}});function f(){var a,y;if(((a=u.indicator)==null?void 0:a.trim().replace(/ +/g," ").length)<5||!u.indicator)return n("Tanımlayacı başlık en az 5 karakter olmalı.");if(((y=u.thesis_manual)==null?void 0:y.trim().replace(/ +/g," ").length)<10||!u.thesis_manual)return n("Yazım kuralları en az 10 karakter olmalı.");t.mutate(u)}return e.jsxs(e.Fragment,{children:[e.jsx(la,{$ADD:!0,onChange:v,name:"indicator",placeholder:"Tanımlayıcı Başlık Ekle (Maksimum 20 karakter)",maxLength:20}),e.jsx(ra,{$FEEDBACK:s||t.isSuccess,$ADD:!0,onChange:v,name:"thesis_manual",placeholder:"Yazım Kuralları (Maksimum 6000 karakter)",maxLength:6e3}),s&&e.jsx(Y,{children:s}),t.isSuccess&&!s&&e.jsx(V,{children:t.data.resData.message}),e.jsx(ee,{$PENDING:t.isPending,disabled:t.isPending||t.isSuccess,onClick:f,children:"ONAYLA"})]})},mn=({setHead:i,backFunc:m,setBackFunc:r})=>{var j,h;const[s,n]=g.useState(),u=()=>{i("YAZIM KURALLARI"),m(),r(null)},[o,v]=g.useState(null),[t,f]=g.useState(!1),[a,y]=g.useState(null),{isLoading:x,isError:l,data:c,error:p}=J({queryKey:["tm_info"],queryFn:()=>be("get","info")});g.useEffect(()=>{l&&setTimeout(()=>{u()},3e3)},[l]),g.useEffect(()=>{i("YAZIM KURALLARI - Güncelle"),r(()=>()=>{u()})},[]);const _=N({mutationFn:b=>be("get",b),onError:b=>{n(`${b.data.code} - ${b.data.message}`)},onSuccess:b=>{y(b.resData)}}),C=N({mutationFn:b=>be("put","",b,{withCredentials:!0}),onError:b=>{n(`${b.data.code} - ${b.data.message}`)},onSuccess:()=>{setTimeout(()=>{u()},1e3)}});function E(){o?_.mutate(o):n("Lütfen önce güncellemek istediğiniz yazım kuralı tanımlayıcı başlığını seçiniz.")}const $=b=>{f(!0),n(null),y({...a,[b.target.name]:b.target.value})};function P(){var b,A;if(!t)return n("Henüz bir değişiklik yapmadınız.");if(((b=a.indicator)==null?void 0:b.trim().replace(/ +/g," ").length)<5)return n("Tanımlayacı başlık en az 5 karakter olmalı.");if(((A=a.thesis_manual)==null?void 0:A.trim().replace(/ +/g," ").length)<10)return n("Yazım kuralları en az 10 karakter olmalı.");C.mutate(a)}return e.jsx(e.Fragment,{children:_.isSuccess?e.jsxs(e.Fragment,{children:[e.jsx(la,{$UPDATE:!0,onChange:$,name:"indicator",value:a.indicator,maxLength:20}),e.jsx(ra,{maxLength:6e3,$FEEDBACK:s||C.isSuccess,$UPDATE:!0,onChange:$,name:"thesis_manual",value:a.thesis_manual}),s&&e.jsx(Y,{children:s}),C.isSuccess&&!s&&e.jsx(V,{children:C.data.resData.message}),e.jsx(ee,{$PENDING:C.isPending,disabled:C.isPending||C.isSuccess,onClick:P,children:"ONAYLA"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{disabled:x||_.isPending||l,onChange:b=>{v(b.target.value),n(null)},children:[e.jsx("option",{hidden:!0,children:x?"Yazım Kuralları Listeleniyor...":"Güncellenecek Yazım Kuralı Tanımlayıcı Başlığını Seçin"}),!x&&!l&&c.resData.map((b,A)=>e.jsx(de,{value:b.id,children:_.isPending?"Bekleyiniz...":b.indicator},A))]}),(l||s)&&e.jsx(Y,{children:l?`${(j=p.data)==null?void 0:j.code} - ${(h=p.data)==null?void 0:h.message}`:s}),e.jsx(mt,{$PENDING:x||_.isPending,disabled:x||_.isPending||l,onClick:E,children:"SEÇ"})]})})},hn=({setHead:i,backFunc:m,setBackFunc:r})=>{var $,P;const[s,n]=g.useState(null),[u,o]=g.useState(null),[v,t]=g.useState(!1),f=()=>{s?t(!0):o("Lütfen önce silmek istediğiniz yazım kuralı tanımlayıcı başlığını seçiniz.")},a=()=>t(!1),y=()=>{i("YAZIM KURALLARI"),m(),r(null)},{isLoading:x,isError:l,data:c,error:p}=J({queryKey:["tm_info"],queryFn:()=>be("get","info")});g.useEffect(()=>{l&&setTimeout(()=>{y()},3e3)},[l]),g.useEffect(()=>{i("YAZIM KURALLARI - Sil"),r(()=>()=>{y()})},[]);const _=N({mutationFn:j=>(t(!1),be("delete",j,null,{withCredentials:!0})),onError:j=>{o(`${j.data.code} - ${j.data.message}`)},onSuccess:()=>{setTimeout(()=>{y()},1e3)}});function C(){_.mutate(s)}const E=j=>{n(j.target.value),o(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(ht,{disabled:x||_.isPending||l,onChange:E,children:[e.jsx("option",{hidden:!0,children:x?"Yazım Kuralları Listeleniyor...":"Silinecek Yazım Kuralı Tanımlayıcı Başlığını Seçin"}),!x&&!l&&c.resData.map((j,h)=>e.jsx(gt,{value:j.id,children:_.isPending?"Bekleyiniz...":j.indicator},h))]}),v&&e.jsx(Fe,{YES:C,NO:a}),_.isSuccess&&!u&&e.jsx(V,{children:_.data.resData.message}),(l||u)&&e.jsx(Y,{children:l?`${($=p.data)==null?void 0:$.code} - ${(P=p.data)==null?void 0:P.message}`:u}),e.jsx(xt,{$PENDING:x||_.isPending,disabled:x||_.isPending||l||_.isSuccess,onClick:f,children:"SİL"})]})},Be={nav:!1,add:!1,update:!1,delete:!1},gn=({setHead:i,setBackFunc:m})=>{const[r,s]=g.useState({...Be,nav:!0});g.useEffect(()=>{i("YAZIM KURALLARI")},[]);const n=()=>{s({...Be,nav:!0})};return e.jsxs(e.Fragment,{children:[r.nav&&e.jsxs(Ke,{children:[e.jsx(B,{onClick:()=>s({...Be,add:!0}),icon:bt,color:"#22ff00",text:"EKLE"}),e.jsx(B,{onClick:()=>s({...Be,update:!0}),icon:ft,color:"#2c37cb",text:"GÜNCELLE"}),e.jsx(B,{onClick:()=>s({...Be,delete:!0}),icon:Et,color:"#CB2C31",text:"SİL"})]}),r.add&&e.jsx(un,{backFunc:n,setBackFunc:m,setHead:i}),r.update&&e.jsx(mn,{backFunc:n,setBackFunc:m,setHead:i}),r.delete&&e.jsx(hn,{backFunc:n,setBackFunc:m,setHead:i})]})},xn=I.button`
    background-color: ${({theme:i})=>i.detail_nav_bc};
    border: none;
    width: 50px;
    height: 50px;
    border-radius: 30px;
    font-size: 1.5em;
    color: ${({theme:i})=>i.detail_nav_color};
    cursor: pointer;
    transition: all .3s ease;
    margin-right: 5px;
    margin-left: auto;

    &:hover {
        background-color: ${({theme:i})=>i.detail_nav_back_button_bc_hover};
        transform: scale(1.05);
    }

    &:active {
        background-color: ${({theme:i})=>i.detail_nav_bc};
        transform: scale(1);
    }

`,Nt={add_event:!1,add_announcement:!1,add_slide:!1,add_thesis_manual:!1,add_committee_member:!1,define_admin:!1,settings:!1,exit:!1},bn=()=>{const[i,m]=g.useState(""),[r,s]=g.useState({...Nt,add_thesis_manual:!0}),n=da(),u=N({mutationFn:()=>Aa("get","logout",null,{withCredentials:!0}),onError:()=>{window.location="/admin/dashboard"},onSuccess:()=>{window.location.href="/"}}),{isLoading:o,isError:v,data:t,error:f}=J({queryKey:["e_info"],queryFn:()=>ke("get","info")}),[a,y]=g.useState(null),x=(c,p)=>{if(u.isPending||u.isError||u.isSuccess)return 0;s({...Nt,[(c==null?void 0:c.target.getAttribute("name"))||p]:!0}),a&&a(),y(null)},l=c=>{x(c),u.mutate()};return e.jsxs(e.Fragment,{children:[e.jsxs(Bt,{children:[e.jsx(Gt,{children:i}),a&&e.jsx(xn,{onClick:a,children:e.jsx(F,{icon:La})})]}),e.jsxs(Zt,{children:[n.w>500&&e.jsxs(Wt,{children:[e.jsxs(he,{$Selected:r.add_thesis_manual,onClick:x,name:"add_thesis_manual",children:[e.jsx(F,{style:{position:"absolute",left:"10px",fontSize:"1.1em"},icon:At}),"Yazım Kuralları"]}),e.jsxs(he,{$Selected:r.add_committee_member,onClick:x,name:"add_committee_member",children:[e.jsx(F,{style:{position:"absolute",left:"10px",fontSize:"1.1em"},icon:zt}),"Komite Üyeleri"]}),e.jsxs(he,{$Selected:r.add_event,onClick:x,name:"add_event",children:[e.jsx(F,{style:{position:"absolute",left:"10px",fontSize:"1.1em"},icon:Lt}),"Etkinlikler"]}),e.jsxs(he,{$Selected:r.add_slide,onClick:x,name:"add_slide",children:[e.jsx(F,{style:{position:"absolute",left:"10px",fontSize:"1.1em"},icon:Pt}),"Slaytlar"]}),e.jsxs(he,{$Selected:r.add_announcement,onClick:x,name:"add_announcement",children:[e.jsx(F,{style:{position:"absolute",left:"10px",fontSize:"1.1em"},icon:wt}),"Duyurular"]}),e.jsxs(he,{$Selected:r.define_admin,onClick:x,name:"define_admin",children:[e.jsx(F,{style:{position:"absolute",left:"10px",fontSize:"1.1em"},icon:Tt}),"Kullanıcıları Yönet"]}),e.jsxs(he,{$Selected:r.settings,onClick:x,name:"settings",children:[e.jsx(F,{style:{position:"absolute",left:"10px",fontSize:"1.1em"},icon:It,spin:r.settings}),"Ayarlar"]}),e.jsxs(he,{$Selected:r.exit,onClick:l,name:"exit",children:[e.jsx(F,{style:{position:"absolute",left:"10px",fontSize:"1.1em"},icon:Rt,flip:"horizontal"}),"Çıkış Yap"]})]}),e.jsxs(fa,{style:{display:!a&&"flex"},children:[r.add_thesis_manual&&e.jsx(gn,{setBackFunc:y,setHead:m}),r.add_committee_member&&e.jsx(Oa,{setBackFunc:y,setHead:m}),r.add_event&&e.jsx(Ja,{setBackFunc:y,setHead:m}),r.add_slide&&e.jsx(Ha,{setBackFunc:y,setHead:m,allEvents_IdAndTitle:(t==null?void 0:t.resData)||[]}),r.add_announcement&&e.jsx(Ka,{setBackFunc:y,allEvents_IdAndTitle:(t==null?void 0:t.resData)||[],setHead:m}),r.settings&&e.jsx(nn,{setBackFunc:y,setHead:m}),r.define_admin&&e.jsx(cn,{setBackFunc:y,setHead:m}),r.exit&&e.jsxs("div",{children:["Çıkış Yapılıyor...",e.jsx("div",{children:"- Bekleyiniz -"})]})]})]}),n.w<=500&&e.jsxs(pa,{children:[e.jsx(je,{name:"add_thesis_manual",changeTab:x,selected:r.add_thesis_manual,title:"Yazım Kuralları",icon:At}),e.jsx(je,{name:"add_committee_member",changeTab:x,selected:r.add_committee_member,title:"Komite Üyeleri",icon:zt}),e.jsx(je,{name:"add_event",changeTab:x,selected:r.add_event,title:"Etkinlikler",icon:Lt}),e.jsx(je,{name:"add_slide",changeTab:x,selected:r.add_slide,title:"Slaytlar",icon:Pt}),e.jsx(je,{name:"add_announcement",changeTab:x,selected:r.add_announcement,title:"Duyurular",icon:wt}),e.jsx(je,{name:"define_admin",changeTab:x,selected:r.define_admin,title:"Kullanıcıları Yönet",icon:Tt}),e.jsx(je,{name:"settings",changeTab:x,selected:r.settings,title:"Ayarlar",icon:It}),e.jsx(je,{name:"exit",changeTab:l,selected:r.exit,title:"Çıkış Yap",icon:Rt})]})]})};export{bn as default};
